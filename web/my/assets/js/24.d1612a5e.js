(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1051:function(e,t,i){var n=i(369),o=i(356);e.exports=function(e,t){o.each(t,(function(t){t.update="updateView",n.registerAction(t,(function(i,n){var o={};return n.eachComponent({mainType:"series",subType:e,query:i},(function(e){e[t.method]&&e[t.method](i.name,i.dataIndex);var n=e.getData();n.each((function(t){var i=n.getName(t);o[i]=e.isSelected(i)||!1}))})),{name:i.name,selected:o,seriesId:i.seriesId}}))}))}},1059:function(e,t,i){var n=i(356),o=i(946),a=i(1060),r=i(991).onIrrelevantElement,s=i(382),l=i(873),u=i(881).getUID,c=i(906);function h(e){var t=e.getItemStyle(),i=e.get("areaColor");return null!=i&&(t.fill=i),t}function p(e,t){t.eachChild((function(t){n.each(t.__regions,(function(i){t.trigger(e.isSelected(i.name)?"emphasis":"normal")}))}))}function f(e,t){var i=new s.Group;this.uid=u("ec_map_draw"),this._controller=new o(e.getZr()),this._controllerHost={target:t?i:null},this.group=i,this._updateGroup=t,this._mouseDownFlag,this._mapName,this._initialized,i.add(this._regionsGroup=new s.Group),i.add(this._backgroundGroup=new s.Group)}f.prototype={constructor:f,draw:function(e,t,i,o,a){var r="geo"===e.mainType,l=e.getData&&e.getData();r&&t.eachComponent({mainType:"series",subType:"map"},(function(t){l||t.getHostGeoModel()!==e||(l=t.getData())}));var u=e.coordinateSystem;this._updateBackground(u);var f,d=this._regionsGroup,g=this.group,m=u.getTransformInfo(),v=!d.childAt(0)||a;if(v)g.transform=m.roamTransform,g.decomposeTransform(),g.dirty();else{var y=new c;y.transform=m.roamTransform,y.decomposeTransform();var _={scale:y.scale,position:y.position};f=y.scale,s.updateProps(g,_,e)}var S=m.rawScale,b=m.rawPosition;d.removeAll();var x=["itemStyle"],M=["emphasis","itemStyle"],w=["label"],T=["emphasis","label"],I=n.createHashMap();n.each(u.regions,(function(t){var i=I.get(t.name)||I.set(t.name,new s.Group),o=new s.CompoundPath({segmentIgnoreThreshold:1,shape:{paths:[]}});i.add(o);var a,u=(E=e.getRegionModel(t.name)||e).getModel(x),c=E.getModel(M),p=h(u),m=h(c),y=E.getModel(w),_=E.getModel(T);if(l){a=l.indexOfName(t.name);var C=l.getItemVisual(a,"color",!0);C&&(p.fill=C)}var L=function(e){return[e[0]*S[0]+b[0],e[1]*S[1]+b[1]]};n.each(t.geometries,(function(e){if("polygon"===e.type){for(var t=[],i=0;i<e.exterior.length;++i)t.push(L(e.exterior[i]));o.shape.paths.push(new s.Polygon({segmentIgnoreThreshold:1,shape:{points:t}}));for(i=0;i<(e.interiors?e.interiors.length:0);++i){for(var n=e.interiors[i],a=(t=[],0);a<n.length;++a)t.push(L(n[a]));o.shape.paths.push(new s.Polygon({segmentIgnoreThreshold:1,shape:{points:t}}))}}})),o.setStyle(p),o.style.strokeNoScale=!0,o.culling=!0;var D=y.get("show"),A=_.get("show"),V=l&&isNaN(l.get(l.mapDimension("value"),a)),O=l&&l.getItemLayout(a);if(r||V&&(D||A)||O&&O.showLabel){var P,R=r?t.name:a;(!l||a>=0)&&(P=e);var z=new s.Text({position:L(t.center.slice()),scale:[1/g.scale[0],1/g.scale[1]],z2:10,silent:!0});if(s.setLabelStyle(z.style,z.hoverStyle={},y,_,{labelFetcher:P,labelDataIndex:R,defaultText:t.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),!v){var N=[1/f[0],1/f[1]];s.updateProps(z,{scale:N},e)}i.add(z)}if(l)l.setItemGraphicEl(a,i);else{var E=e.getRegionModel(t.name);o.eventData={componentType:"geo",componentIndex:e.componentIndex,geoIndex:e.componentIndex,name:t.name,region:E&&E.option||{}}}(i.__regions||(i.__regions=[])).push(t),i.highDownSilentOnTouch=!!e.get("selectedMode"),s.setHoverStyle(i,m),d.add(i)})),this._updateController(e,t,i),function(e,t,i,o,a){i.off("click"),i.off("mousedown"),t.get("selectedMode")&&(i.on("mousedown",(function(){e._mouseDownFlag=!0})),i.on("click",(function(r){if(e._mouseDownFlag){e._mouseDownFlag=!1;for(var s=r.target;!s.__regions;)s=s.parent;if(s){var l={type:("geo"===t.mainType?"geo":"map")+"ToggleSelect",batch:n.map(s.__regions,(function(e){return{name:e.name,from:a.uid}}))};l[t.mainType+"Id"]=t.id,o.dispatchAction(l),p(t,i)}}})))}(this,e,d,i,o),p(e,d)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&l.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(e){var t=e.map;this._mapName!==t&&n.each(l.makeGraphic(t,this.uid),(function(e){this._backgroundGroup.add(e)}),this),this._mapName=t},_updateController:function(e,t,i){var o=e.coordinateSystem,s=this._controller,l=this._controllerHost;l.zoomLimit=e.get("scaleLimit"),l.zoom=o.getZoom(),s.enable(e.get("roam")||!1);var u=e.mainType;function c(){var t={type:"geoRoam",componentType:u};return t[u+"Id"]=e.id,t}s.off("pan").on("pan",(function(e){this._mouseDownFlag=!1,a.updateViewOnPan(l,e.dx,e.dy),i.dispatchAction(n.extend(c(),{dx:e.dx,dy:e.dy}))}),this),s.off("zoom").on("zoom",(function(e){if(this._mouseDownFlag=!1,a.updateViewOnZoom(l,e.scale,e.originX,e.originY),i.dispatchAction(n.extend(c(),{zoom:e.scale,originX:e.originX,originY:e.originY})),this._updateGroup){var t=this.group.scale;this._regionsGroup.traverse((function(e){"text"===e.type&&e.attr("scale",[1/t[0],1/t[1]])}))}}),this),s.setPointerChecker((function(t,n,a){return o.getViewRectAfterRoam().contain(n,a)&&!r(t,i,e)}))}};var d=f;e.exports=d},1060:function(e,t){t.updateViewOnPan=function(e,t,i){var n=e.target,o=n.position;o[0]+=t,o[1]+=i,n.dirty()},t.updateViewOnZoom=function(e,t,i,n){var o=e.target,a=e.zoomLimit,r=o.position,s=o.scale,l=e.zoom=e.zoom||1;if(l*=t,a){var u=a.min||0,c=a.max||1/0;l=Math.max(Math.min(c,l),u)}var h=l/e.zoom;e.zoom=l,r[0]-=(i-r[0])*(h-1),r[1]-=(n-r[1])*(h-1),s[0]*=h,s[1]*=h,o.dirty()}},1061:function(e,t,i){var n=i(369),o=i(356),a=i(1062).updateCenterAndZoom;n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(e,t){var i=e.componentType||"series";t.eachComponent({mainType:i,query:e},(function(t){var n=t.coordinateSystem;if("geo"===n.type){var r=a(n,e,t.get("scaleLimit"));t.setCenter&&t.setCenter(r.center),t.setZoom&&t.setZoom(r.zoom),"series"===i&&o.each(t.seriesGroup,(function(e){e.setCenter(r.center),e.setZoom(r.zoom)}))}}))}))},1062:function(e,t){t.updateCenterAndZoom=function(e,t,i){var n=e.getZoom(),o=e.getCenter(),a=t.zoom,r=e.dataToPoint(o);if(null!=t.dx&&null!=t.dy){r[0]-=t.dx,r[1]-=t.dy;o=e.pointToData(r);e.setCenter(o)}if(null!=a){if(i){var s=i.min||0,l=i.max||1/0;a=Math.max(Math.min(n*a,l),s)/n}e.scale[0]*=a,e.scale[1]*=a;var u=e.position,c=(t.originX-u[0])*(a-1),h=(t.originY-u[1])*(a-1);u[0]-=c,u[1]-=h,e.updateTransform();o=e.pointToData(r);e.setCenter(o),e.setZoom(a*n)}return{center:e.getCenter(),zoom:e.getZoom()}}},1063:function(e,t,i){var n=i(356),o=i(501),a=i(675),r=i(544),s=i(906),l=o.applyTransform;function u(){s.call(this)}function c(e){this.name=e,this.zoomLimit,s.call(this),this._roamTransformable=new u,this._rawTransformable=new u,this._center,this._zoom}function h(e,t,i,n){var o=i.seriesModel,a=o?o.coordinateSystem:null;return a===this?a[e](n):null}n.mixin(u,s),c.prototype={constructor:c,type:"view",dimensions:["x","y"],setBoundingRect:function(e,t,i,n){return this._rect=new r(e,t,i,n),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(e,t,i,n){this.transformTo(e,t,i,n),this._viewRect=new r(e,t,i,n)},transformTo:function(e,t,i,n){var o=this.getBoundingRect(),a=this._rawTransformable;a.transform=o.calculateTransform(new r(e,t,i,n)),a.decomposeTransform(),this._updateTransform()},setCenter:function(e){e&&(this._center=e,this._updateCenterAndZoom())},setZoom:function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},getDefaultCenter:function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,i=this.getDefaultCenter(),n=this.getCenter(),a=this.getZoom();n=o.applyTransform([],n,e),i=o.applyTransform([],i,e),t.origin=n,t.position=[i[0]-n[0],i[1]-n[1]],t.scale=[a,a],this._updateTransform()},_updateTransform:function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),a.copy(this.transform||(this.transform=[]),t.transform||a.create()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],a.invert(this.invTransform,this.transform),this.decomposeTransform()},getTransformInfo:function(){var e=this._roamTransformable.transform,t=this._rawTransformable;return{roamTransform:e?n.slice(e):a.create(),rawScale:n.slice(t.scale),rawPosition:n.slice(t.position)}},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},dataToPoint:function(e,t,i){var n=t?this._rawTransform:this.transform;return i=i||[],n?l(i,e,n):o.copy(i,e)},pointToData:function(e){var t=this.invTransform;return t?l([],e,t):[e[0],e[1]]},convertToPixel:n.curry(h,"dataToPoint"),convertFromPixel:n.curry(h,"pointToData"),containPoint:function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])}},n.mixin(c,s);var p=c;e.exports=p},1064:function(e,t,i){var n=i(382),o=i(949);function a(e){this._ctor=e||o,this.group=new n.Group}var r=a.prototype;function s(e){var t=e.hostModel;return{lineStyle:t.getModel("lineStyle").getLineStyle(),hoverLineStyle:t.getModel("emphasis.lineStyle").getLineStyle(),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label")}}function l(e){return isNaN(e[0])||isNaN(e[1])}function u(e){return!l(e[0])&&!l(e[1])}r.isPersistent=function(){return!0},r.updateData=function(e){var t=this,i=t.group,n=t._lineData;t._lineData=e,n||i.removeAll();var o=s(e);e.diff(n).add((function(i){!function(e,t,i,n){if(!u(t.getItemLayout(i)))return;var o=new e._ctor(t,i,n);t.setItemGraphicEl(i,o),e.group.add(o)}(t,e,i,o)})).update((function(i,a){!function(e,t,i,n,o,a){var r=t.getItemGraphicEl(n);if(!u(i.getItemLayout(o)))return void e.group.remove(r);r?r.updateData(i,o,a):r=new e._ctor(i,o,a);i.setItemGraphicEl(o,r),e.group.add(r)}(t,n,e,a,i,o)})).remove((function(e){i.remove(n.getItemGraphicEl(e))})).execute()},r.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl((function(t,i){t.updateLayout(e,i)}),this)},r.incrementalPrepareUpdate=function(e){this._seriesScope=s(e),this._lineData=null,this.group.removeAll()},r.incrementalUpdate=function(e,t){function i(e){e.isGroup||function(e){return e.animators&&e.animators.length>0}(e)||(e.incremental=e.useHoverLayer=!0)}for(var n=e.start;n<e.end;n++){if(u(t.getItemLayout(n))){var o=new this._ctor(t,n,this._seriesScope);o.traverse(i),this.group.add(o),t.setItemGraphicEl(n,o)}}},r.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},r._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var c=a;e.exports=c},1065:function(e,t,i){var n=i(382),o=i(949),a=i(356),r=i(611).createSymbol,s=i(501),l=i(804);function u(e,t,i){n.Group.call(this),this.add(this.createLine(e,t,i)),this._updateEffectSymbol(e,t)}var c=u.prototype;c.createLine=function(e,t,i){return new o(e,t,i)},c._updateEffectSymbol=function(e,t){var i=e.getItemModel(t).getModel("effect"),n=i.get("symbolSize"),o=i.get("symbol");a.isArray(n)||(n=[n,n]);var s=i.get("color")||e.getItemVisual(t,"color"),l=this.childAt(1);this._symbolType!==o&&(this.remove(l),(l=r(o,-.5,-.5,1,1,s)).z2=100,l.culling=!0,this.add(l)),l&&(l.setStyle("shadowColor",s),l.setStyle(i.getItemStyle(["color"])),l.attr("scale",n),l.setColor(s),l.attr("scale",n),this._symbolType=o,this._symbolScale=n,this._updateEffectAnimation(e,i,t))},c._updateEffectAnimation=function(e,t,i){var n=this.childAt(1);if(n){var o=this,r=e.getItemLayout(i),s=1e3*t.get("period"),l=t.get("loop"),u=t.get("constantSpeed"),c=a.retrieve(t.get("delay"),(function(t){return t/e.count()*s/3})),h="function"==typeof c;if(n.ignore=!0,this.updateAnimationPoints(n,r),u>0&&(s=this.getLineLength(n)/u*1e3),s!==this._period||l!==this._loop){n.stopAnimation();var p=c;h&&(p=c(i)),n.__t>0&&(p=-s*n.__t),n.__t=0;var f=n.animate("",l).when(s,{__t:1}).delay(p).during((function(){o.updateSymbolPosition(n)}));l||f.done((function(){o.remove(n)})),f.start()}this._period=s,this._loop=l}},c.getLineLength=function(e){return s.dist(e.__p1,e.__cp1)+s.dist(e.__cp1,e.__p2)},c.updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},c.updateData=function(e,t,i){this.childAt(0).updateData(e,t,i),this._updateEffectSymbol(e,t)},c.updateSymbolPosition=function(e){var t=e.__p1,i=e.__p2,n=e.__cp1,o=e.__t,a=e.position,r=[a[0],a[1]],u=l.quadraticAt,c=l.quadraticDerivativeAt;a[0]=u(t[0],n[0],i[0],o),a[1]=u(t[1],n[1],i[1],o);var h=c(t[0],n[0],i[0],o),p=c(t[1],n[1],i[1],o);if(e.rotation=-Math.atan2(p,h)-Math.PI/2,"line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)if(void 0!==e.__lastT&&e.__lastT<e.__t){var f=1.05*s.dist(r,a);e.attr("scale",[e.scale[0],f]),1===o&&(a[0]=r[0]+(a[0]-r[0])/2,a[1]=r[1]+(a[1]-r[1])/2)}else if(1===e.__lastT){f=2*s.dist(t,a);e.attr("scale",[e.scale[0],f])}else e.attr("scale",this._symbolScale);e.__lastT=e.__t,e.ignore=!1},c.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var i=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,i,t)},a.inherits(u,n.Group);var h=u;e.exports=h},1066:function(e,t,i){var n=i(382),o=i(356);function a(e,t,i){n.Group.call(this),this._createPolyline(e,t,i)}var r=a.prototype;r._createPolyline=function(e,t,i){var o=e.getItemLayout(t),a=new n.Polyline({shape:{points:o}});this.add(a),this._updateCommonStl(e,t,i)},r.updateData=function(e,t,i){var o=e.hostModel,a=this.childAt(0),r={shape:{points:e.getItemLayout(t)}};n.updateProps(a,r,o,t),this._updateCommonStl(e,t,i)},r._updateCommonStl=function(e,t,i){var a=this.childAt(0),r=e.getItemModel(t),s=e.getItemVisual(t,"color"),l=i&&i.lineStyle,u=i&&i.hoverLineStyle;i&&!e.hasItemOption||(l=r.getModel("lineStyle").getLineStyle(),u=r.getModel("emphasis.lineStyle").getLineStyle()),a.useStyle(o.defaults({strokeNoScale:!0,fill:"none",stroke:s},l)),a.hoverStyle=u,n.setHoverStyle(this)},r.updateLayout=function(e,t){this.childAt(0).setShape("points",e.getItemLayout(t))},o.inherits(a,n.Group);var s=a;e.exports=s},1067:function(e,t,i){var n={seriesType:"lines",plan:i(716)(),reset:function(e){var t=e.coordinateSystem,i=e.get("polyline"),n=e.pipelineContext.large;return{progress:function(o,a){var r=[];if(n){var s,l=o.end-o.start;if(i){for(var u=0,c=o.start;c<o.end;c++)u+=e.getLineCoordsCount(c);s=new Float32Array(l+2*u)}else s=new Float32Array(4*l);var h=0,p=[];for(c=o.start;c<o.end;c++){var f=e.getLineCoords(c,r);i&&(s[h++]=f);for(var d=0;d<f;d++)p=t.dataToPoint(r[d],!1,p),s[h++]=p[0],s[h++]=p[1]}a.setLayout("linesPoints",s)}else for(c=o.start;c<o.end;c++){var g=a.getItemModel(c),m=(f=e.getLineCoords(c,r),[]);if(i)for(var v=0;v<f;v++)m.push(t.dataToPoint(r[v]));else{m[0]=t.dataToPoint(r[0]),m[1]=t.dataToPoint(r[1]);var y=g.get("lineStyle.curveness");+y&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*y,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*y])}a.setItemLayout(c,m)}}}}};e.exports=n},1068:function(e,t,i){var n=i(356),o=n.each;function a(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}e.exports=function(e){var t=e&&e.visualMap;n.isArray(t)||(t=t?[t]:[]),o(t,(function(e){if(e){a(e,"splitList")&&!a(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&n.isArray(t)&&o(t,(function(e){n.isObject(e)&&(a(e,"start")&&!a(e,"min")&&(e.min=e.start),a(e,"end")&&!a(e,"max")&&(e.max=e.end))}))}}))}},1069:function(e,t,i){i(623).registerSubTypeDefaulter("visualMap",(function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"}))},1070:function(e,t,i){var n=i(369),o=i(356),a=i(950),r=i(798),s=n.PRIORITY.VISUAL.COMPONENT;function l(e,t,i,n){for(var o=t.targetVisuals[n],a=r.prepareVisualTypes(o),s={color:e.getData().getVisual("color")},l=0,u=a.length;l<u;l++){var c=a[l],h=o["opacity"===c?"__alphaForOpacity":c];h&&h.applyVisual(i,p,f)}return s.color;function p(e){return s[e]}function f(e,t){s[e]=t}}n.registerVisual(s,{createOnAllSeries:!0,reset:function(e,t){var i=[];return t.eachComponent("visualMap",(function(t){var n=e.pipelineContext;!t.isTargetSeries(e)||n&&n.large||i.push(a.incrementalApplyVisual(t.stateList,t.targetVisuals,o.bind(t.getValueState,t),t.getDataDimension(e.getData())))})),i}}),n.registerVisual(s,{createOnAllSeries:!0,reset:function(e,t){var i=e.getData(),n=[];t.eachComponent("visualMap",(function(t){if(t.isTargetSeries(e)){var a=t.getVisualMeta(o.bind(l,null,e,t))||{stops:[],outerColors:[]},r=t.getDataDimension(i),s=i.getDimensionInfo(r);null!=s&&(a.dimension=s.index,n.push(a))}})),e.getData().setVisual("visualMeta",n)}})},1071:function(e,t,i){var n=i(369),o=i(356),a=i(610),r=i(1072),s=i(798),l=i(950),u=i(451),c=i(423),h=s.mapVisual,p=s.eachVisual,f=o.isArray,d=o.each,g=c.asc,m=c.linearMap,v=o.noop,y=n.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(e,t,i){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(e,i)},optionUpdated:function(e,t){var i=this.option;a.canvasSupported||(i.realtime=!1),!t&&l.replaceVisualOption(i,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(e){var t=this.stateList;e=o.bind(e,this),this.controllerVisuals=l.createVisualMappings(this.option.controller,t,e),this.targetVisuals=l.createVisualMappings(this.option.target,t,e)},getTargetSeriesIndices:function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries((function(e,i){t.push(i)})):t=u.normalizeToArray(e),t},eachTargetSeries:function(e,t){o.each(this.getTargetSeriesIndices(),(function(i){e.call(t,this.ecModel.getSeriesByIndex(i))}),this)},isTargetSeries:function(e){var t=!1;return this.eachTargetSeries((function(i){i===e&&(t=!0)})),t},formatValueText:function(e,t,i){var n,a,r=this.option,s=r.precision,l=this.dataBound,u=r.formatter;return i=i||["<",">"],o.isArray(e)&&(e=e.slice(),n=!0),a=t?e:n?[c(e[0]),c(e[1])]:c(e),o.isString(u)?u.replace("{value}",n?a[0]:a).replace("{value2}",n?a[1]:a):o.isFunction(u)?n?u(e[0],e[1]):u(e):n?e[0]===l[0]?i[0]+" "+a[1]:e[1]===l[1]?i[1]+" "+a[0]:a[0]+" - "+a[1]:a;function c(e){return e===l[0]?"min":e===l[1]?"max":(+e).toFixed(Math.min(s,20))}},resetExtent:function(){var e=this.option,t=g([e.min,e.max]);this._dataExtent=t},getDataDimension:function(e){var t=this.option.dimension,i=e.dimensions;if(null!=t||i.length){if(null!=t)return e.getDimension(t);for(var n=e.dimensions,o=n.length-1;o>=0;o--){var a=n[o];if(!e.getDimensionInfo(a).isCalculationCoord)return a}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var e=this.ecModel,t=this.option,i={inRange:t.inRange,outOfRange:t.outOfRange},n=t.target||(t.target={}),a=t.controller||(t.controller={});o.merge(n,i),o.merge(a,i);var l=this.isCategory();function u(i){f(t.color)&&!i.inRange&&(i.inRange={color:t.color.slice().reverse()}),i.inRange=i.inRange||{color:e.get("gradientColor")},d(this.stateList,(function(e){var t=i[e];if(o.isString(t)){var n=r.get(t,"active",l);n?(i[e]={},i[e][t]=n):delete i[e]}}),this)}u.call(this,n),u.call(this,a),function(e,t,i){var n=e[t],o=e[i];n&&!o&&(o=e[i]={},d(n,(function(e,t){if(s.isValidType(t)){var i=r.get(t,"inactive",l);null!=i&&(o[t]=i,"color"!==t||o.hasOwnProperty("opacity")||o.hasOwnProperty("colorAlpha")||(o.opacity=[0,0]))}})))}.call(this,n,"inRange","outOfRange"),function(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,i=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,n=this.get("inactiveColor");d(this.stateList,(function(a){var r=this.itemSize,s=e[a];s||(s=e[a]={color:l?n:[n]}),null==s.symbol&&(s.symbol=t&&o.clone(t)||(l?"roundRect":["roundRect"])),null==s.symbolSize&&(s.symbolSize=i&&o.clone(i)||(l?r[0]:[r[0],r[0]])),s.symbol=h(s.symbol,(function(e){return"none"===e||"square"===e?"roundRect":e}));var u=s.symbolSize;if(null!=u){var c=-1/0;p(u,(function(e){e>c&&(c=e)})),s.symbolSize=h(u,(function(e){return m(e,[0,c],[0,r[0]],!0)}))}}),this)}.call(this,a)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:v,getValueState:v,getVisualMeta:v});e.exports=y},1072:function(e,t,i){var n=i(356),o={get:function(e,t,i){var o=n.clone((a[e]||{})[t]);return i&&n.isArray(o)?o[o.length-1]:o}},a={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},r=o;e.exports=r},1073:function(e,t,i){var n=i(369),o=i(356),a=i(382),r=i(532),s=i(523),l=i(798),u=n.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(e,t){this.ecModel=e,this.api=t,this.visualMapModel},render:function(e,t,i,n){this.visualMapModel=e,!1!==e.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(e){var t=this.visualMapModel,i=r.normalizeCssArray(t.get("padding")||0),n=e.getBoundingRect();e.add(new a.Rect({z2:-1,silent:!0,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},getControllerVisual:function(e,t,i){var n=(i=i||{}).forceState,a=this.visualMapModel,r={};if("symbol"===t&&(r.symbol=a.get("itemSymbol")),"color"===t){var s=a.get("contentColor");r.color=s}function u(e){return r[e]}function c(e,t){r[e]=t}var h=a.controllerVisuals[n||a.getValueState(e)],p=l.prepareVisualTypes(h);return o.each(p,(function(n){var o=h[n];i.convertOpacityToAlpha&&"opacity"===n&&(n="colorAlpha",o=h.__alphaForOpacity),l.dependsOn(n,t)&&o&&o.applyVisual(e,u,c)})),r[t]},positionGroup:function(e){var t=this.visualMapModel,i=this.api;s.positionElement(e,t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},doRender:o.noop});e.exports=u},1074:function(e,t,i){var n=i(356),o=i(523).getLayoutRect;t.getItemAlign=function(e,t,i){var n=e.option,a=n.align;if(null!=a&&"auto"!==a)return a;for(var r={width:t.getWidth(),height:t.getHeight()},s="horizontal"===n.orient?1:0,l=[["left","right","width"],["top","bottom","height"]],u=l[s],c=[0,null,10],h={},p=0;p<3;p++)h[l[1-s][p]]=c[p],h[u[p]]=2===p?i[0]:n[u[p]];var f=[["x","width",3],["y","height",0]][s],d=o(h,r,n.padding);return u[(d.margin[f[2]]||0)+d[f[0]]+.5*d[f[1]]<.5*r[f[1]]?0:1]},t.makeHighDownBatch=function(e,t){return n.each(e||[],(function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")})),e}},1075:function(e,t,i){i(369).registerAction({type:"selectDataRange",event:"dataRangeSelected",update:"update"},(function(e,t){t.eachComponent({mainType:"visualMap",query:e},(function(t){t.setSelected(e.selected)}))}))},1115:function(e,t,i){var n=i(369),o="\0_ec_interaction_mutex";function a(e){return e[o]||(e[o]={})}n.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},(function(){})),t.take=function(e,t,i){a(e)[t]=i},t.release=function(e,t,i){var n=a(e);n[t]===i&&(n[t]=null)},t.isTaken=function(e,t){return!!a(e)[t]}},1117:function(e,t,i){var n=i(369),o=i(1068);i(1069),i(1070),i(1258),i(1259),i(1075),n.registerPreprocessor(o)},1118:function(e,t,i){var n=i(369),o=i(1068);i(1069),i(1070),i(1260),i(1261),i(1075),n.registerPreprocessor(o)},1220:function(e,t,i){var n=i(660),o=i(551).extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(e,t){return n(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",getProgressive:function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},clip:!0}});e.exports=o},1221:function(e,t,i){var n=i(369),o=i(631),a=i(1222),r=i(621);n.extendChartView({type:"scatter",render:function(e,t,i){var n=e.getData();this._updateSymbolDraw(n,e).updateData(n,{clipShape:this._getClipShape(e)}),this._finished=!0},incrementalPrepareRender:function(e,t,i){var n=e.getData();this._updateSymbolDraw(n,e).incrementalPrepareUpdate(n),this._finished=!1},incrementalRender:function(e,t,i){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)}),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,i){var n=e.getData();if(this.group.dirty(),!this._finished||n.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var o=r().reset(e);o.progress&&o.progress({start:0,end:n.count()},n),this._symbolDraw.updateLayout(n)},_getClipShape:function(e){var t=e.coordinateSystem,i=t&&t.getArea&&t.getArea();return e.get("clip",!0)?i:null},_updateSymbolDraw:function(e,t){var i=this._symbolDraw,n=t.pipelineContext.large;return i&&n===this._isLargeDraw||(i&&i.remove(),i=this._symbolDraw=n?new a:new o,this._isLargeDraw=n,this.group.removeAll()),this.group.add(i.group),i},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}})},1222:function(e,t,i){var n=i(382),o=i(611).createSymbol,a=i(979),r=n.extendShape({shape:{points:null},symbolProxy:null,softClipShape:null,buildPath:function(e,t){var i=t.points,n=t.size,o=this.symbolProxy,a=o.shape;if(!((e.getContext?e.getContext():e)&&n[0]<4))for(var r=0;r<i.length;){var s=i[r++],l=i[r++];isNaN(s)||isNaN(l)||(this.softClipShape&&!this.softClipShape.contain(s,l)||(a.x=s-n[0]/2,a.y=l-n[1]/2,a.width=n[0],a.height=n[1],o.buildPath(e,a,!0)))}},afterBrush:function(e){var t=this.shape,i=t.points,n=t.size;if(n[0]<4){this.setTransform(e);for(var o=0;o<i.length;){var a=i[o++],r=i[o++];isNaN(a)||isNaN(r)||(this.softClipShape&&!this.softClipShape.contain(a,r)||e.fillRect(a-n[0]/2,r-n[1]/2,n[0],n[1]))}this.restoreTransform(e)}},findDataIndex:function(e,t){for(var i=this.shape,n=i.points,o=i.size,a=Math.max(o[0],4),r=Math.max(o[1],4),s=n.length/2-1;s>=0;s--){var l=2*s,u=n[l]-a/2,c=n[l+1]-r/2;if(e>=u&&t>=c&&e<=u+a&&t<=c+r)return s}return-1}});function s(){this.group=new n.Group}var l=s.prototype;l.isPersistent=function(){return!this._incremental},l.updateData=function(e,t){this.group.removeAll();var i=new r({rectHover:!0,cursor:"default"});i.setShape({points:e.getLayout("symbolPoints")}),this._setCommon(i,e,!1,t),this.group.add(i),this._incremental=null},l.updateLayout=function(e){if(!this._incremental){var t=e.getLayout("symbolPoints");this.group.eachChild((function(e){if(null!=e.startIndex){var i=2*(e.endIndex-e.startIndex),n=4*e.startIndex*2;t=new Float32Array(t.buffer,n,i)}e.setShape("points",t)}))}},l.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),e.count()>2e6?(this._incremental||(this._incremental=new a({silent:!0})),this.group.add(this._incremental)):this._incremental=null},l.incrementalUpdate=function(e,t,i){var n;this._incremental?(n=new r,this._incremental.addDisplayable(n,!0)):((n=new r({rectHover:!0,cursor:"default",startIndex:e.start,endIndex:e.end})).incremental=!0,this.group.add(n)),n.setShape({points:t.getLayout("symbolPoints")}),this._setCommon(n,t,!!this._incremental,i)},l._setCommon=function(e,t,i,n){var a=t.hostModel;n=n||{};var r=t.getVisual("symbolSize");e.setShape("size",r instanceof Array?r:[r,r]),e.softClipShape=n.clipShape||null,e.symbolProxy=o(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var s=e.shape.size[0]<4;e.useStyle(a.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var l=t.getVisual("color");l&&e.setColor(l),i||(e.seriesIndex=a.seriesIndex,e.on("mousemove",(function(t){e.dataIndex=null;var i=e.findDataIndex(t.offsetX,t.offsetY);i>=0&&(e.dataIndex=i+(e.startIndex||0))})))},l.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},l._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var u=s;e.exports=u},1223:function(e,t,i){var n=i(356),o=i(823),a=i(551),r=i(532),s=r.encodeHTML,l=r.addCommas,u=i(935),c=i(808).retrieveRawAttr,h=i(873),p=i(771).makeSeriesEncodeForNameBased,f=a.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],getInitialData:function(e){for(var t=o(this,{coordDimensions:["value"],encodeDefaulter:n.curry(p,this)}),i=t.mapDimension("value"),a=n.createHashMap(),r=[],s=[],l=0,u=t.count();l<u;l++){var f=t.getName(l);a.set(f,!0),r.push({name:f,value:t.get(i,l),selected:c(t,l,"selected")})}var d=h.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return n.each(d.regions,(function(e){var t=e.name;a.get(t)||(r.push({name:t}),s.push(t))})),this.updateSelectedMap(r),t.appendValues([],s),t},getHostGeoModel:function(){var e=this.option.geoIndex;return null!=e?this.dependentModels.geo[e]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},getRegionModel:function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},formatTooltip:function(e,t,i,n){for(var o=this.getData(),a=l(this.getRawValue(e)),r=o.getName(e),u=this.seriesGroup,c=[],h=0;h<u.length;h++){var p=u[h].originalData.indexOfName(r),f=o.mapDimension("value");isNaN(u[h].originalData.get(f,p))||c.push(s(u[h].name))}var d="html"===n?"<br/>":"\n";return c.join(", ")+d+s(r+" : "+a)},getTooltipPosition:function(e){if(null!=e){var t=this.getData().getName(e),i=this.coordinateSystem,n=i.getRegion(t);return n&&i.dataToPoint(n.center)}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},nameProperty:"name"}});n.mixin(f,u);var d=f;e.exports=d},1224:function(e,t,i){var n=i(356).each,o=i(1099),a=i(451).makeInner,r=i(1225),s=i(1226),l=i(1227),u=i(1228),c=a(),h={load:function(e,t,i){var a=c(t).parsed;if(a)return a;var h,f=t.specialAreas||{},d=t.geoJSON;try{h=d?o(d,i):[]}catch(e){throw new Error("Invalid geoJson format\n"+e.message)}return r(e,h),n(h,(function(t){var i=t.name;s(e,t),l(e,t),u(e,t);var n=f[i];n&&t.transformTo(n.left,n.top,n.width,n.height)})),c(t).parsed={regions:h,boundingRect:p(h)}}};function p(e){for(var t,i=0;i<e.length;i++){var n=e[i].getBoundingRect();(t=t||n.clone()).union(n)}return t}e.exports=h},1225:function(e,t,i){for(var n=i(356),o=i(1100),a=[126,25],r=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],s=0;s<r.length;s++)for(var l=0;l<r[s].length;l++)r[s][l][0]/=10.5,r[s][l][1]/=-14,r[s][l][0]+=a[0],r[s][l][1]+=a[1];e.exports=function(e,t){"china"===e&&t.push(new o("南海诸岛",n.map(r,(function(e){return{type:"polygon",exterior:e}})),a))}},1226:function(e,t){var i={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};e.exports=function(e,t){if("china"===e){var n=i[t.name];if(n){var o=t.center;o[0]+=n[0]/10.5,o[1]+=-n[1]/14}}}},1227:function(e,t){var i={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};e.exports=function(e,t){if("world"===e){var n=i[t.name];if(n){var o=t.center;o[0]=n[0],o[1]=n[1]}}}},1228:function(e,t){var i=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];e.exports=function(e,t){"china"===e&&"台湾"===t.name&&t.geometries.push({type:"polygon",exterior:i[0]})}},1229:function(e,t,i){var n=i(1096),o=n.parseSVG,a=n.makeViewBoxTransform,r=i(803),s=i(1015),l=i(356),u=l.assert,c=l.createHashMap,h=i(544),p=(0,i(451).makeInner)(),f={load:function(e,t){var i=p(t).originRoot;if(i)return{root:i,boundingRect:p(t).boundingRect};var n=d(t);return p(t).originRoot=n.root,p(t).boundingRect=n.boundingRect,n},makeGraphic:function(e,t,i){var n=p(t),o=n.rootMap||(n.rootMap=c()),a=o.get(i);if(a)return a;var r=n.originRoot,s=n.boundingRect;return n.originRootHostKey?a=d(t,s).root:(n.originRootHostKey=i,a=r),o.set(i,a)},removeGraphic:function(e,t,i){var n=p(t),o=n.rootMap;o&&o.removeKey(i),i===n.originRootHostKey&&(n.originRootHostKey=null)}};function d(e,t){var i,n,l=e.svgXML;try{n=(i=l&&o(l,{ignoreViewBox:!0,ignoreRootClip:!0})||{}).root,u(null!=n)}catch(e){throw new Error("Invalid svg format\n"+e.message)}var c=i.width,p=i.height,f=i.viewBoxRect;if(t||(t=null==c||null==p?n.getBoundingRect():new h(0,0,0,0),null!=c&&(t.width=c),null!=p&&(t.height=p)),f){var d=a(f,t.width,t.height),g=n;(n=new r).add(g),g.scale=d.scale,g.position=d.position}return n.setClipPath(new s({shape:t.plain()})),{root:n,boundingRect:t}}e.exports=f},1230:function(e,t,i){var n=i(369),o=i(356),a=i(382),r=i(1059),s=n.extendChartView({type:"map",render:function(e,t,i,n){if(!n||"mapToggleSelect"!==n.type||n.from!==this.uid){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){if(n&&"geoRoam"===n.type&&"series"===n.componentType&&n.seriesId===e.id)(a=this._mapDraw)&&o.add(a.group);else if(e.needsDrawMap){var a=this._mapDraw||new r(i,!0);o.add(a.group),a.draw(e,t,i,this,n),this._mapDraw=a}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,i)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(e,t,i){var n=e.originalData,r=this.group;n.each(n.mapDimension("value"),(function(t,i){if(!isNaN(t)){var s=n.getItemLayout(i);if(s&&s.point){var c=s.point,h=s.offset,p=new a.Circle({style:{fill:e.getData().getVisual("color")},shape:{cx:c[0]+9*h,cy:c[1],r:3},silent:!0,z2:8+(h?0:a.Z2_EMPHASIS_LIFT+1)});if(!h){var f=e.mainSeries.getData(),d=n.getName(i),g=f.indexOfName(d),m=n.getItemModel(i),v=m.getModel("label"),y=m.getModel("emphasis.label"),_=f.getItemGraphicEl(g),S=o.retrieve2(e.getFormattedLabel(g,"normal"),d),b=o.retrieve2(e.getFormattedLabel(g,"emphasis"),S),x=_.__seriesMapHighDown,M=Math.random();if(!x){x=_.__seriesMapHighDown={};var w=o.curry(l,!0),T=o.curry(l,!1);_.on("mouseover",w).on("mouseout",T).on("emphasis",w).on("normal",T)}_.__seriesMapCallKey=M,o.extend(x,{recordVersion:M,circle:p,labelModel:v,hoverLabelModel:y,emphasisText:b,normalText:S}),u(x,!1)}r.add(p)}}}))}});function l(e){var t=this.__seriesMapHighDown;t&&t.recordVersion===this.__seriesMapCallKey&&u(t,e)}function u(e,t){var i=e.circle,n=e.labelModel,o=e.hoverLabelModel,r=e.emphasisText,s=e.normalText;t?(i.style.extendFrom(a.setTextStyle({},o,{text:o.get("show")?r:null},{isRectText:!0,useInsideStyle:!1},!0)),i.__mapOriginalZ2=i.z2,i.z2+=a.Z2_EMPHASIS_LIFT):(a.setTextStyle(i.style,n,{text:n.get("show")?s:null,textPosition:n.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),i.dirty(!1),null!=i.__mapOriginalZ2&&(i.z2=i.__mapOriginalZ2,i.__mapOriginalZ2=null))}e.exports=s},1231:function(e,t,i){var n=i(356),o=i(544),a=i(1063),r=i(873);function s(e,t,i,n){a.call(this,e),this.map=t;var o=r.load(t,i);this._nameCoordMap=o.nameCoordMap,this._regionsMap=o.regionsMap,this._invertLongitute=null==n||n,this.regions=o.regions,this._rect=o.boundingRect}function l(e,t,i,n){var o=i.geoModel,a=i.seriesModel,r=o?o.coordinateSystem:a?a.coordinateSystem||(a.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return r===this?r[e](n):null}s.prototype={constructor:s,type:"geo",dimensions:["lng","lat"],containCoord:function(e){for(var t=this.regions,i=0;i<t.length;i++)if(t[i].contain(e))return!0;return!1},transformTo:function(e,t,i,n){var a=this.getBoundingRect(),r=this._invertLongitute;a=a.clone(),r&&(a.y=-a.y-a.height);var s=this._rawTransformable;if(s.transform=a.calculateTransform(new o(e,t,i,n)),s.decomposeTransform(),r){var l=s.scale;l[1]=-l[1]}s.updateTransform(),this._updateTransform()},getRegion:function(e){return this._regionsMap.get(e)},getRegionByCoord:function(e){for(var t=this.regions,i=0;i<t.length;i++)if(t[i].contain(e))return t[i]},addGeoCoord:function(e,t){this._nameCoordMap.set(e,t)},getGeoCoord:function(e){return this._nameCoordMap.get(e)},getBoundingRect:function(){return this._rect},dataToPoint:function(e,t,i){if("string"==typeof e&&(e=this.getGeoCoord(e)),e)return a.prototype.dataToPoint.call(this,e,t,i)},convertToPixel:n.curry(l,"dataToPoint"),convertFromPixel:n.curry(l,"pointToData")},n.mixin(s,a);var u=s;e.exports=u},1232:function(e,t,i){var n=i(356);e.exports=function(e){var t={};e.eachSeriesByType("map",(function(i){var o=i.getMapType();if(!i.getHostGeoModel()&&!t[o]){var a={};n.each(i.seriesGroup,(function(t){var i=t.coordinateSystem,n=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&n.each(n.mapDimension("value"),(function(e,t){var o=n.getName(t),r=i.getRegion(o);if(r&&!isNaN(e)){var s=a[o]||0,l=i.dataToPoint(r.center);a[o]=s+1,n.setItemLayout(t,{point:l,offset:s})}}))}));var r=i.getData();r.each((function(e){var t=r.getName(e),i=r.getItemLayout(e)||{};i.showLabel=!a[t],r.setItemLayout(e,i)})),t[o]=!0}}))}},1233:function(e,t){e.exports=function(e){e.eachSeriesByType("map",(function(e){var t=e.get("color"),i=e.getModel("itemStyle"),n=i.get("areaColor"),o=i.get("color")||t[e.seriesIndex%t.length];e.getData().setVisual({areaColor:n,color:o})}))}},1234:function(e,t,i){var n=i(356);e.exports=function(e){var t={};e.eachSeriesByType("map",(function(e){var i=e.getHostGeoModel(),n=i?"o"+i.id:"i"+e.getMapType();(t[n]=t[n]||[]).push(e)})),n.each(t,(function(e,t){for(var i,o,a,r=(i=n.map(e,(function(e){return e.getData()})),o=e[0].get("mapValueCalculation"),a={},n.each(i,(function(e){e.each(e.mapDimension("value"),(function(t,i){var n="ec-"+e.getName(i);a[n]=a[n]||[],isNaN(t)||a[n].push(t)}))})),i[0].map(i[0].mapDimension("value"),(function(e,t){for(var n,r="ec-"+i[0].getName(t),s=0,l=1/0,u=-1/0,c=a[r].length,h=0;h<c;h++)l=Math.min(l,a[r][h]),u=Math.max(u,a[r][h]),s+=a[r][h];return n="min"===o?l:"max"===o?u:"average"===o?s/c:s,0===c?NaN:n}))),s=0;s<e.length;s++)e[s].originalData=e[s].getData();for(s=0;s<e.length;s++)e[s].seriesGroup=e,e[s].needsDrawMap=0===s&&!e[s].getHostGeoModel(),e[s].setData(r.cloneShallow()),e[s].mainSeries=e[0]}))}},1235:function(e,t,i){var n=i(356);e.exports=function(e){var t=[];n.each(e.series,(function(e){e&&"map"===e.type&&(t.push(e),e.map=e.map||e.mapType,n.defaults(e,e.mapLocation))}))}},1237:function(e,t,i){var n=i(382),o=i(501),a=n.Line.prototype,r=n.BezierCurve.prototype;function s(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var l=n.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(e,t){this[s(t)?"_buildPathLine":"_buildPathCurve"](e,t)},_buildPathLine:a.buildPath,_buildPathCurve:r.buildPath,pointAt:function(e){return this[s(this.shape)?"_pointAtLine":"_pointAtCurve"](e)},_pointAtLine:a.pointAt,_pointAtCurve:r.pointAt,tangentAt:function(e){var t=this.shape,i=s(t)?[t.x2-t.x1,t.y2-t.y1]:this._tangentAtCurve(e);return o.normalize(i,i)},_tangentAtCurve:r.tangentAt});e.exports=l},1240:function(e,t,i){var n=i(660),o=i(551).extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(e,t){return n(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});e.exports=o},1241:function(e,t,i){var n=i(369),o=i(631),a=i(1242),r=i(675),s=i(621),l=n.extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new o(a)},render:function(e,t,i){var n=e.getData(),o=this._symbolDraw;o.updateData(n),this.group.add(o.group)},updateTransform:function(e,t,i){var n=e.getData();this.group.dirty();var o=s().reset(e);o.progress&&o.progress({start:0,end:n.count()},n),this._symbolDraw.updateLayout(n)},_updateGroupTransform:function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=r.clone(t.getRoamTransform()),this.group.decomposeTransform())},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(t)},dispose:function(){}});e.exports=l},1242:function(e,t,i){var n=i(356),o=i(611).createSymbol,a=i(382).Group,r=i(423).parsePercent,s=i(594);function l(e,t){var i=t.rippleEffectColor||t.color;e.eachChild((function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?i:null,fill:"fill"===t.brushType?i:null}})}))}function u(e,t){a.call(this);var i=new s(e,t),n=new a;this.add(i),this.add(n),n.beforeUpdate=function(){this.attr(i.getScale())},this.updateData(e,t)}var c=u.prototype;c.stopEffectAnimation=function(){this.childAt(1).removeAll()},c.startEffectAnimation=function(e){for(var t=e.symbolType,i=e.color,n=this.childAt(1),a=0;a<3;a++){var r=o(t,-1,-1,2,2,i);r.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var s=-a/3*e.period+e.effectOffset;r.animate("",!0).when(e.period,{scale:[e.rippleScale/2,e.rippleScale/2]}).delay(s).start(),r.animateStyle(!0).when(e.period,{opacity:0}).delay(s).start(),n.add(r)}l(n,e)},c.updateEffectAnimation=function(e){for(var t=this._effectCfg,i=this.childAt(1),n=["symbolType","period","rippleScale"],o=0;o<n.length;o++){var a=n[o];if(t[a]!==e[a])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}l(i,e)},c.highlight=function(){this.trigger("emphasis")},c.downplay=function(){this.trigger("normal")},c.updateData=function(e,t){var i=e.hostModel;this.childAt(0).updateData(e,t);var o=this.childAt(1),a=e.getItemModel(t),s=e.getItemVisual(t,"symbol"),l=function(e){return n.isArray(e)||(e=[+e,+e]),e}(e.getItemVisual(t,"symbolSize")),u=e.getItemVisual(t,"color");o.attr("scale",l),o.traverse((function(e){e.attr({fill:u})}));var c=a.getShallow("symbolOffset");if(c){var h=o.position;h[0]=r(c[0],l[0]),h[1]=r(c[1],l[1])}var p=e.getItemVisual(t,"symbolRotate");o.rotation=(p||0)*Math.PI/180||0;var f={};if(f.showEffectOn=i.get("showEffectOn"),f.rippleScale=a.get("rippleEffect.scale"),f.brushType=a.get("rippleEffect.brushType"),f.period=1e3*a.get("rippleEffect.period"),f.effectOffset=t/e.count(),f.z=a.getShallow("z")||0,f.zlevel=a.getShallow("zlevel")||0,f.symbolType=s,f.color=u,f.rippleEffectColor=a.get("rippleEffect.color"),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===f.showEffectOn)this._effectCfg?this.updateEffectAnimation(f):this.startEffectAnimation(f),this._effectCfg=f;else{this._effectCfg=null,this.stopEffectAnimation();var d=this.childAt(0),g=function(){d.highlight(),"render"!==f.showEffectOn&&this.startEffectAnimation(f)},m=function(){d.downplay(),"render"!==f.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",g,this).on("mouseout",m,this).on("emphasis",g,this).on("normal",m,this)}this._effectCfg=f},c.fadeOut=function(e){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),e&&e()},n.inherits(u,a);var h=u;e.exports=h},1243:function(e,t,i){i(435).__DEV__;var n=i(551),o=i(733),a=i(356),r=a.concatArray,s=a.mergeAll,l=a.map,u=i(532).encodeHTML,c=(i(748),"undefined"==typeof Uint32Array?Array:Uint32Array),h="undefined"==typeof Float64Array?Array:Float64Array;function p(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=l(t,(function(e){var t={coords:[e[0].coord,e[1].coord]};return e[0].name&&(t.fromName=e[0].name),e[1].name&&(t.toName=e[1].name),s([t,e[0],e[1]])})))}var f=n.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(e){e.data=e.data||[],p(e);var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count)),f.superApply(this,"init",arguments)},mergeOption:function(e){if(p(e),e.data){var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count))}f.superApply(this,"mergeOption",arguments)},appendData:function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=r(this._flatCoords,t.flatCoords),this._flatCoordsOffset=r(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},_getCoordsFromItemModel:function(e){var t=this.getData().getItemModel(e);return t.option instanceof Array?t.option:t.getShallow("coords")},getLineCoordsCount:function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},getLineCoords:function(e,t){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[2*e],n=this._flatCoordsOffset[2*e+1],o=0;o<n;o++)t[o]=t[o]||[],t[o][0]=this._flatCoords[i+2*o],t[o][1]=this._flatCoords[i+2*o+1];return n}var a=this._getCoordsFromItemModel(e);for(o=0;o<a.length;o++)t[o]=t[o]||[],t[o][0]=a[o][0],t[o][1]=a[o][1];return a.length},_processFlatCoordsArray:function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),"number"==typeof e[0]){for(var i=e.length,n=new c(i),o=new h(i),a=0,r=0,s=0,l=0;l<i;){s++;var u=e[l++];n[r++]=a+t,n[r++]=u;for(var p=0;p<u;p++){var f=e[l++],d=e[l++];o[a++]=f,o[a++]=d}}return{flatCoordsOffset:new Uint32Array(n.buffer,0,r),flatCoords:o,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},getInitialData:function(e,t){var i=new o(["value"],this);return i.hasItemOption=!1,i.initData(e.data,[],(function(e,t,n,o){if(e instanceof Array)return NaN;i.hasItemOption=!0;var a=e.value;return null!=a?a instanceof Array?a[o]:a:void 0})),i},formatTooltip:function(e){var t=this.getData().getItemModel(e),i=t.get("name");if(i)return i;var n=t.get("fromName"),o=t.get("toName"),a=[];return null!=n&&a.push(n),null!=o&&a.push(o),u(a.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),d=f;e.exports=d},1244:function(e,t,i){i(435).__DEV__;var n=i(369),o=i(1064),a=i(1065),r=i(949),s=i(1066),l=i(1245),u=i(1246),c=i(1067),h=i(729).createClipPath,p=n.extendChartView({type:"lines",init:function(){},render:function(e,t,i){var n=e.getData(),o=this._updateLineDraw(n,e),a=e.get("zlevel"),r=e.get("effect.trailLength"),s=i.getZr(),l="svg"===s.painter.getType();l||s.painter.getLayer(a).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&r&&(l||s.configLayer(a,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(r/10+.9,1),0)})),o.updateData(n);var u=e.get("clip",!0)&&h(e.coordinateSystem,!1,e);u?this.group.setClipPath(u):this.group.removeClipPath(),this._lastZlevel=a,this._finished=!0},incrementalPrepareRender:function(e,t,i){var n=e.getData();this._updateLineDraw(n,e).incrementalPrepareUpdate(n),this._clearLayer(i),this._finished=!1},incrementalRender:function(e,t,i){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,i){var n=e.getData(),o=e.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var a=c.reset(e);a.progress&&a.progress({start:0,end:n.count()},n),this._lineDraw.updateLayout(),this._clearLayer(i)},_updateLineDraw:function(e,t){var i=this._lineDraw,n=this._showEffect(t),c=!!t.get("polyline"),h=t.pipelineContext.large;return i&&n===this._hasEffet&&c===this._isPolyline&&h===this._isLargeDraw||(i&&i.remove(),i=this._lineDraw=h?new u:new o(c?n?l:s:n?a:r),this._hasEffet=n,this._isPolyline=c,this._isLargeDraw=h,this.group.removeAll()),this.group.add(i.group),i},_showEffect:function(e){return!!e.get("effect.show")},_clearLayer:function(e){var t=e.getZr();"svg"===t.painter.getType()||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},dispose:function(){}});e.exports=p},1245:function(e,t,i){var n=i(1066),o=i(356),a=i(1065),r=i(501);function s(e,t,i){a.call(this,e,t,i),this._lastFrame=0,this._lastFramePercent=0}var l=s.prototype;l.createLine=function(e,t,i){return new n(e,t,i)},l.updateAnimationPoints=function(e,t){this._points=t;for(var i=[0],n=0,o=1;o<t.length;o++){var a=t[o-1],s=t[o];n+=r.dist(a,s),i.push(n)}if(0!==n){for(o=0;o<i.length;o++)i[o]/=n;this._offsets=i,this._length=n}},l.getLineLength=function(e){return this._length},l.updateSymbolPosition=function(e){var t=e.__t,i=this._points,n=this._offsets,o=i.length;if(n){var a=this._lastFrame;if(t<this._lastFramePercent){for(s=Math.min(a+1,o-1);s>=0&&!(n[s]<=t);s--);s=Math.min(s,o-2)}else{for(var s=a;s<o&&!(n[s]>t);s++);s=Math.min(s-1,o-2)}r.lerp(e.position,i[s],i[s+1],(t-n[s])/(n[s+1]-n[s]));var l=i[s+1][0]-i[s][0],u=i[s+1][1]-i[s][1];e.rotation=-Math.atan2(u,l)-Math.PI/2,this._lastFrame=s,this._lastFramePercent=t,e.ignore=!1}},o.inherits(s,a);var u=s;e.exports=u},1246:function(e,t,i){var n=i(382),o=i(979),a=i(1093),r=i(1094),s=n.extendShape({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(e,t){var i=t.segs,n=t.curveness;if(t.polyline)for(var o=0;o<i.length;){var a=i[o++];if(a>0){e.moveTo(i[o++],i[o++]);for(var r=1;r<a;r++)e.lineTo(i[o++],i[o++])}}else for(o=0;o<i.length;){var s=i[o++],l=i[o++],u=i[o++],c=i[o++];if(e.moveTo(s,l),n>0){var h=(s+u)/2-(l-c)*n,p=(l+c)/2-(u-s)*n;e.quadraticCurveTo(h,p,u,c)}else e.lineTo(u,c)}},findDataIndex:function(e,t){var i=this.shape,n=i.segs,o=i.curveness;if(i.polyline)for(var s=0,l=0;l<n.length;){var u=n[l++];if(u>0)for(var c=n[l++],h=n[l++],p=1;p<u;p++){var f=n[l++],d=n[l++];if(a.containStroke(c,h,f,d))return s}s++}else for(s=0,l=0;l<n.length;){c=n[l++],h=n[l++],f=n[l++],d=n[l++];if(o>0){var g=(c+f)/2-(h-d)*o,m=(h+d)/2-(f-c)*o;if(r.containStroke(c,h,g,m,f,d))return s}else if(a.containStroke(c,h,f,d))return s;s++}return-1}});function l(){this.group=new n.Group}var u=l.prototype;u.isPersistent=function(){return!this._incremental},u.updateData=function(e){this.group.removeAll();var t=new s({rectHover:!0,cursor:"default"});t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e),this.group.add(t),this._incremental=null},u.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),e.count()>5e5?(this._incremental||(this._incremental=new o({silent:!0})),this.group.add(this._incremental)):this._incremental=null},u.incrementalUpdate=function(e,t){var i=new s;i.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(i,t,!!this._incremental),this._incremental?this._incremental.addDisplayable(i,!0):(i.rectHover=!0,i.cursor="default",i.__startIndex=e.start,this.group.add(i))},u.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},u._setCommon=function(e,t,i){var n=t.hostModel;e.setShape({polyline:n.get("polyline"),curveness:n.get("lineStyle.curveness")}),e.useStyle(n.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var o=t.getVisual("color");o&&e.setStyle("stroke",o),e.setStyle("fill"),i||(e.seriesIndex=n.seriesIndex,e.on("mousemove",(function(t){e.dataIndex=null;var i=e.findDataIndex(t.offsetX,t.offsetY);i>0&&(e.dataIndex=i+e.__startIndex)})))},u._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var c=l;e.exports=c},1247:function(e,t){function i(e){return e instanceof Array||(e=[e,e]),e}var n="lineStyle.opacity".split("."),o={seriesType:"lines",reset:function(e,t,o){var a=i(e.get("symbol")),r=i(e.get("symbolSize")),s=e.getData();return s.setVisual("fromSymbol",a&&a[0]),s.setVisual("toSymbol",a&&a[1]),s.setVisual("fromSymbolSize",r&&r[0]),s.setVisual("toSymbolSize",r&&r[1]),s.setVisual("opacity",e.get(n)),{dataEach:s.hasItemOption?function(e,t){var o=e.getItemModel(t),a=i(o.getShallow("symbol",!0)),r=i(o.getShallow("symbolSize",!0)),s=o.get(n);a[0]&&e.setItemVisual(t,"fromSymbol",a[0]),a[1]&&e.setItemVisual(t,"toSymbol",a[1]),r[0]&&e.setItemVisual(t,"fromSymbolSize",r[0]),r[1]&&e.setItemVisual(t,"toSymbolSize",r[1]),e.setItemVisual(t,"opacity",s)}:null}}};e.exports=o},1249:function(e,t,i){var n=i(356),o=i(451),a=i(623),r=i(615),s=i(935),l=i(947),u=a.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(e){a.prototype.init.apply(this,arguments),o.defaultEmphasis(e,"label",["show"])},optionUpdated:function(){var e=this.option,t=this;e.regions=l.getFilledRegions(e.regions,e.map,e.nameMap),this._optionModelMap=n.reduce(e.regions||[],(function(e,i){return i.name&&e.set(i.name,new r(i,t)),e}),n.createHashMap()),this.updateSelectedMap(e.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(e){return this._optionModelMap.get(e)||new r(null,this,this.ecModel)},getFormattedLabel:function(e,t){t=t||"normal";var i=this.getRegionModel(e).get(("normal"===t?"":t+".")+"label.formatter"),n={name:e};return"function"==typeof i?(n.status=t,i(n)):"string"==typeof i?i.replace("{a}",null!=e?e:""):void 0},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e}});n.mixin(u,s);var c=u;e.exports=c},1250:function(e,t,i){var n=i(1059),o=i(369).extendComponentView({type:"geo",init:function(e,t){var i=new n(t,!0);this._mapDraw=i,this.group.add(i.group)},render:function(e,t,i,n){if(!n||"geoToggleSelect"!==n.type||n.from!==this.uid){var o=this._mapDraw;e.get("show")?o.draw(e,t,i,this,n):this._mapDraw.group.removeAll(),this.group.silent=e.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});e.exports=o},1258:function(e,t,i){var n=i(356),o=i(1071),a=i(423),r=[20,140],s=o.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(e,t){s.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual((function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()})),this._resetRange()},resetItemSize:function(){s.superApply(this,"resetItemSize",arguments);var e=this.itemSize;"horizontal"===this._orient&&e.reverse(),(null==e[0]||isNaN(e[0]))&&(e[0]=r[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=r[1])},_resetRange:function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):n.isArray(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},completeVisualOption:function(){o.prototype.completeVisualOption.apply(this,arguments),n.each(this.stateList,(function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=0)}),this)},setSelected:function(e){this.option.range=e.slice(),this._resetRange()},getSelected:function(){var e=this.getExtent(),t=a.asc((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},getValueState:function(e){var t=this.option.range,i=this.getExtent();return(t[0]<=i[0]||t[0]<=e)&&(t[1]>=i[1]||e<=t[1])?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries((function(i){var n=[],o=i.getData();o.each(this.getDataDimension(o),(function(t,i){e[0]<=t&&t<=e[1]&&n.push(i)}),this),t.push({seriesId:i.id,dataIndex:n})}),this),t},getVisualMeta:function(e){var t=l(this,"outOfRange",this.getExtent()),i=l(this,"inRange",this.option.range.slice()),n=[];function o(t,i){n.push({value:t,color:e(t,i)})}for(var a=0,r=0,s=i.length,u=t.length;r<u&&(!i.length||t[r]<=i[0]);r++)t[r]<i[a]&&o(t[r],"outOfRange");for(var c=1;a<s;a++,c=0)c&&n.length&&o(i[a],"outOfRange"),o(i[a],"inRange");for(c=1;r<u;r++)(!i.length||i[i.length-1]<t[r])&&(c&&(n.length&&o(n[n.length-1].value,"outOfRange"),c=0),o(t[r],"outOfRange"));var h=n.length;return{stops:n,outerColors:[h?n[0].color:"transparent",h?n[h-1].color:"transparent"]}}});function l(e,t,i){if(i[0]===i[1])return i.slice();for(var n=(i[1]-i[0])/200,o=i[0],a=[],r=0;r<=200&&o<i[1];r++)a.push(o),o+=n;return a.push(i[1]),a}var u=s;e.exports=u},1259:function(e,t,i){var n=i(356),o=i(1016),a=i(746),r=i(1073),s=i(382),l=i(423),u=i(899),c=i(1074),h=i(451),p=l.linearMap,f=n.each,d=Math.min,g=Math.max,m=r.extend({type:"visualMap.continuous",init:function(){m.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(e,t,i,n){n&&"selectDataRange"===n.type&&n.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var i=e.get("text");this._renderEndsText(t,i,0),this._renderEndsText(t,i,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},_renderEndsText:function(e,t,i){if(t){var n=t[1-i];n=null!=n?n+"":"";var o=this.visualMapModel,a=o.get("textGap"),r=o.itemSize,l=this._shapes.barGroup,u=this._applyTransform([r[0]/2,0===i?-a:r[1]+a],l),c=this._applyTransform(0===i?"bottom":"top",l),h=this._orient,p=this.visualMapModel.textStyleModel;this.group.add(new s.Text({style:{x:u[0],y:u[1],textVerticalAlign:"horizontal"===h?"middle":c,textAlign:"horizontal"===h?c:"center",text:n,textFont:p.getFont(),textFill:p.getTextColor()}}))}},_renderBar:function(e){var t=this.visualMapModel,i=this._shapes,o=t.itemSize,a=this._orient,r=this._useHandle,s=c.getItemAlign(t,this.api,o),l=i.barGroup=this._createBarGroup(s);l.add(i.outOfRange=v()),l.add(i.inRange=v(null,r?_(this._orient):null,n.bind(this._dragHandle,this,"all",!1),n.bind(this._dragHandle,this,"all",!0)));var u=t.textStyleModel.getTextRect("国"),h=g(u.width,u.height);r&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(l,0,o,h,a,s),this._createHandle(l,1,o,h,a,s)),this._createIndicator(l,o,h,a),e.add(l)},_createHandle:function(e,t,i,o,r){var l=n.bind(this._dragHandle,this,t,!1),u=n.bind(this._dragHandle,this,t,!0),c=v(function(e,t){return 0===e?[[0,0],[t,0],[t,-t]]:[[0,0],[t,0],[t,t]]}(t,o),_(this._orient),l,u);c.position[0]=i[0],e.add(c);var h=this.visualMapModel.textStyleModel,p=new s.Text({draggable:!0,drift:l,onmousemove:function(e){a.stop(e.event)},ondragend:u,style:{x:0,y:0,text:"",textFont:h.getFont(),textFill:h.getTextColor()}});this.group.add(p);var f=["horizontal"===r?o/2:1.5*o,"horizontal"===r?0===t?-1.5*o:1.5*o:0===t?-o/2:o/2],d=this._shapes;d.handleThumbs[t]=c,d.handleLabelPoints[t]=f,d.handleLabels[t]=p},_createIndicator:function(e,t,i,n){var o=v([[0,0]],"move");o.position[0]=t[0],o.attr({invisible:!0,silent:!0}),e.add(o);var a=this.visualMapModel.textStyleModel,r=new s.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:a.getFont(),textFill:a.getTextColor()}});this.group.add(r);var l=["horizontal"===n?i/2:9,0],u=this._shapes;u.indicator=o,u.indicatorLabel=r,u.indicatorLabelPoint=l},_dragHandle:function(e,t,i,n){if(this._useHandle){if(this._dragging=!t,!t){var o=this._applyTransform([i,n],this._shapes.barGroup,!0);this._updateInterval(e,o[1]),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():y(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},_resetInterval:function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),i=e.getExtent(),n=[0,e.itemSize[1]];this._handleEnds=[p(t[0],i,n,!0),p(t[1],i,n,!0)]},_updateInterval:function(e,t){t=t||0;var i=this.visualMapModel,n=this._handleEnds,o=[0,i.itemSize[1]];u(t,n,o,e,0);var a=i.getExtent();this._dataInterval=[p(n[0],o,a,!0),p(n[1],o,a,!0)]},_updateView:function(e){var t=this.visualMapModel,i=t.getExtent(),n=this._shapes,o=[0,t.itemSize[1]],a=e?o:this._handleEnds,r=this._createBarVisual(this._dataInterval,i,a,"inRange"),s=this._createBarVisual(i,i,o,"outOfRange");n.inRange.setStyle({fill:r.barColor,opacity:r.opacity}).setShape("points",r.barPoints),n.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),this._updateHandle(a,r)},_createBarVisual:function(e,t,i,n){var a={forceState:n,convertOpacityToAlpha:!0},r=this._makeColorGradient(e,a),s=[this.getControllerVisual(e[0],"symbolSize",a),this.getControllerVisual(e[1],"symbolSize",a)],l=this._createBarPoints(i,s);return{barColor:new o(0,0,0,1,r),barPoints:l,handlesColor:[r[0].color,r[r.length-1].color]}},_makeColorGradient:function(e,t){var i=[],n=(e[1]-e[0])/100;i.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var o=1;o<100;o++){var a=e[0]+n*o;if(a>e[1])break;i.push({color:this.getControllerVisual(a,"color",t),offset:o/100})}return i.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),i},_createBarPoints:function(e,t){var i=this.visualMapModel.itemSize;return[[i[0]-t[0],e[0]],[i[0],e[0]],[i[0],e[1]],[i[0]-t[1],e[1]]]},_createBarGroup:function(e){var t=this._orient,i=this.visualMapModel.get("inverse");return new s.Group("horizontal"!==t||i?"horizontal"===t&&i?{scale:"bottom"===e?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==t||i?{scale:"left"===e?[1,1]:[-1,1]}:{scale:"left"===e?[1,-1]:[-1,-1]}:{scale:"bottom"===e?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(e,t){if(this._useHandle){var i=this._shapes,n=this.visualMapModel,o=i.handleThumbs,a=i.handleLabels;f([0,1],(function(r){var l=o[r];l.setStyle("fill",t.handlesColor[r]),l.position[1]=e[r];var u=s.applyTransform(i.handleLabelPoints[r],s.getTransform(l,this.group));a[r].setStyle({x:u[0],y:u[1],text:n.formatValueText(this._dataInterval[r]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===r?"bottom":"top":"left",i.barGroup)})}),this)}},_showIndicator:function(e,t,i,n){var o=this.visualMapModel,a=o.getExtent(),r=o.itemSize,l=[0,r[1]],u=p(e,a,l,!0),c=this._shapes,h=c.indicator;if(h){h.position[1]=u,h.attr("invisible",!1),h.setShape("points",function(e,t,i,n){return e?[[0,-d(t,g(i,0))],[6,0],[0,d(t,g(n-i,0))]]:[[0,0],[5,-5],[5,5]]}(!!i,n,u,r[1]));var f=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0});h.setStyle("fill",f);var m=s.applyTransform(c.indicatorLabelPoint,s.getTransform(h,this.group)),v=c.indicatorLabel;v.attr("invisible",!1);var y=this._applyTransform("left",c.barGroup),_=this._orient;v.setStyle({text:(i||"")+o.formatValueText(t),textVerticalAlign:"horizontal"===_?y:"middle",textAlign:"horizontal"===_?"center":y,x:m[0],y:m[1]})}},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on("mousemove",(function(t){if(e._hovering=!0,!e._dragging){var i=e.visualMapModel.itemSize,n=e._applyTransform([t.offsetX,t.offsetY],e._shapes.barGroup,!0,!0);n[1]=d(g(0,n[1]),i[1]),e._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=i[0])}})).on("mouseout",(function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()}))},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(e,t){var i=this.visualMapModel,n=i.itemSize;if(i.option.hoverLink){var o=[0,n[1]],a=i.getExtent();e=d(g(o[0],e),o[1]);var r=function(e,t,i){var n=6,o=e.get("hoverLinkDataSize");o&&(n=p(o,t,i,!0)/2);return n}(i,a,o),s=[e-r,e+r],l=p(e,o,a,!0),u=[p(s[0],o,a,!0),p(s[1],o,a,!0)];s[0]<o[0]&&(u[0]=-1/0),s[1]>o[1]&&(u[1]=1/0),t&&(u[0]===-1/0?this._showIndicator(l,u[1],"< ",r):u[1]===1/0?this._showIndicator(l,u[0],"> ",r):this._showIndicator(l,l,"≈ ",r));var f=this._hoverLinkDataIndices,m=[];(t||y(i))&&(m=this._hoverLinkDataIndices=i.findTargetDataIndices(u));var v=h.compressBatches(f,m);this._dispatchHighDown("downplay",c.makeHighDownBatch(v[0],i)),this._dispatchHighDown("highlight",c.makeHighDownBatch(v[1],i))}},_hoverLinkFromSeriesMouseOver:function(e){var t=e.target,i=this.visualMapModel;if(t&&null!=t.dataIndex){var n=this.ecModel.getSeriesByIndex(t.seriesIndex);if(i.isTargetSeries(n)){var o=n.getData(t.dataType),a=o.get(i.getDataDimension(o),t.dataIndex,!0);isNaN(a)||this._showIndicator(a,a)}}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",c.makeHighDownBatch(e,this.visualMapModel)),e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},_applyTransform:function(e,t,i,o){var a=s.getTransform(t,o?null:this.group);return s[n.isArray(e)?"applyTransform":"transformDirection"](e,a,i)},_dispatchHighDown:function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function v(e,t,i,n){return new s.Polygon({shape:{points:e},draggable:!!i,cursor:t,drift:i,onmousemove:function(e){a.stop(e.event)},ondragend:n})}function y(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function _(e){return"vertical"===e?"ns-resize":"ew-resize"}var S=m;e.exports=S},1260:function(e,t,i){i(435).__DEV__;var n=i(356),o=i(1071),a=i(798),r=i(1072),s=i(423).reformIntervals,l=o.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(e,t){l.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var i=this._mode=this._determineMode();u[this._mode].call(this),this._resetSelected(e,t);var o=this.option.categories;this.resetVisual((function(e,t){"categories"===i?(e.mappingMethod="category",e.categories=n.clone(o)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=n.map(this._pieceList,(function(e){e=n.clone(e);return"inRange"!==t&&(e.visual=null),e})))}))},completeVisualOption:function(){var e=this.option,t={},i=a.listVisualTypes(),s=this.isCategory();function l(e,t,i){return e&&e[t]&&(n.isObject(e[t])?e[t].hasOwnProperty(i):e[t]===i)}n.each(e.pieces,(function(e){n.each(i,(function(i){e.hasOwnProperty(i)&&(t[i]=1)}))})),n.each(t,(function(t,i){var o=0;n.each(this.stateList,(function(t){o|=l(e,t,i)||l(e.target,t,i)}),this),!o&&n.each(this.stateList,(function(t){(e[t]||(e[t]={}))[i]=r.get(i,"inRange"===t?"active":"inactive",s)}))}),this),o.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(e,t){var i=this.option,o=this._pieceList,a=(t?i:e).selected||{};if(i.selected=a,n.each(o,(function(e,t){var i=this.getSelectedMapKey(e);a.hasOwnProperty(i)||(a[i]=!0)}),this),"single"===i.selectedMode){var r=!1;n.each(o,(function(e,t){var i=this.getSelectedMapKey(e);a[i]&&(r?a[i]=!1:r=!0)}),this)}},getSelectedMapKey:function(e){return"categories"===this._mode?e.value+"":e.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(e){this.option.selected=n.clone(e)},getValueState:function(e){var t=a.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries((function(i){var n=[],o=i.getData();o.each(this.getDataDimension(o),(function(t,i){a.findPieceIndex(t,this._pieceList)===e&&n.push(i)}),this),t.push({seriesId:i.id,dataIndex:n})}),this),t},getRepresentValue:function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var i=e.interval||[];t=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return t},getVisualMeta:function(e){if(!this.isCategory()){var t=[],i=[],o=this,a=this._pieceList.slice();if(a.length){var r=a[0].interval[0];r!==-1/0&&a.unshift({interval:[-1/0,r]}),(r=a[a.length-1].interval[1])!==1/0&&a.push({interval:[r,1/0]})}else a.push({interval:[-1/0,1/0]});var s=-1/0;return n.each(a,(function(e){var t=e.interval;t&&(t[0]>s&&l([s,t[0]],"outOfRange"),l(t.slice()),s=t[1])}),this),{stops:t,outerColors:i}}function l(n,a){var r=o.getRepresentValue({interval:n});a||(a=o.getValueState(r));var s=e(r,a);n[0]===-1/0?i[0]=s:n[1]===1/0?i[1]=s:t.push({value:n[0],color:s},{value:n[1],color:s})}}}),u={splitNumber:function(){var e=this.option,t=this._pieceList,i=Math.min(e.precision,20),o=this.getExtent(),a=e.splitNumber;a=Math.max(parseInt(a,10),1),e.splitNumber=a;for(var r=(o[1]-o[0])/a;+r.toFixed(i)!==r&&i<5;)i++;e.precision=i,r=+r.toFixed(i),e.minOpen&&t.push({interval:[-1/0,o[0]],close:[0,0]});for(var l=0,u=o[0];l<a;u+=r,l++){var c=l===a-1?o[1]:u+r;t.push({interval:[u,c],close:[1,1]})}e.maxOpen&&t.push({interval:[o[1],1/0],close:[0,0]}),s(t),n.each(t,(function(e,t){e.index=t,e.text=this.formatValueText(e.interval)}),this)},categories:function(){var e=this.option;n.each(e.categories,(function(e){this._pieceList.push({text:this.formatValueText(e,!0),value:e})}),this),c(e,this._pieceList)},pieces:function(){var e=this.option,t=this._pieceList;n.each(e.pieces,(function(e,i){n.isObject(e)||(e={value:e});var o={text:"",index:i};if(null!=e.label&&(o.text=e.label),e.hasOwnProperty("value")){var r=o.value=e.value;o.interval=[r,r],o.close=[1,1]}else{for(var s=o.interval=[],l=o.close=[0,0],u=[1,0,1],c=[-1/0,1/0],h=[],p=0;p<2;p++){for(var f=[["gte","gt","min"],["lte","lt","max"]][p],d=0;d<3&&null==s[p];d++)s[p]=e[f[d]],l[p]=u[d],h[p]=2===d;null==s[p]&&(s[p]=c[p])}h[0]&&s[1]===1/0&&(l[0]=0),h[1]&&s[0]===-1/0&&(l[1]=0),s[0]===s[1]&&l[0]&&l[1]&&(o.value=s[0])}o.visual=a.retrieveVisuals(e),t.push(o)}),this),c(e,t),s(t),n.each(t,(function(e){var t=e.close,i=[["<","≤"][t[1]],[">","≥"][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,i)}),this)}};function c(e,t){var i=e.inverse;("vertical"===e.orient?!i:i)&&t.reverse()}var h=l;e.exports=h},1261:function(e,t,i){var n=i(356),o=i(1073),a=i(382),r=i(611).createSymbol,s=i(523),l=i(1074),u=o.extend({type:"visualMap.piecewise",doRender:function(){var e=this.group;e.removeAll();var t=this.visualMapModel,i=t.get("textGap"),o=t.textStyleModel,r=o.getFont(),l=o.getTextColor(),u=this._getItemAlign(),c=t.itemSize,h=this._getViewData(),p=h.endsText,f=n.retrieve(t.get("showLabel",!0),!p);p&&this._renderEndsText(e,p[0],c,f,u),n.each(h.viewPieceList,(function(o){var s=o.piece,h=new a.Group;h.onclick=n.bind(this._onItemClick,this,s),this._enableHoverLink(h,o.indexInModelPieceList);var p=t.getRepresentValue(s);if(this._createItemSymbol(h,p,[0,0,c[0],c[1]]),f){var d=this.visualMapModel.getValueState(p);h.add(new a.Text({style:{x:"right"===u?-i:c[0]+i,y:c[1]/2,text:s.text,textVerticalAlign:"middle",textAlign:u,textFont:r,textFill:l,opacity:"outOfRange"===d?.5:1}}))}e.add(h)}),this),p&&this._renderEndsText(e,p[1],c,f,u),s.box(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},_enableHoverLink:function(e,t){function i(e){var i=this.visualMapModel;i.option.hoverLink&&this.api.dispatchAction({type:e,batch:l.makeHighDownBatch(i.findTargetDataIndices(t),i)})}e.on("mouseover",n.bind(i,this,"highlight")).on("mouseout",n.bind(i,this,"downplay"))},_getItemAlign:function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return l.getItemAlign(e,this.api,e.itemSize);var i=t.align;return i&&"auto"!==i||(i="left"),i},_renderEndsText:function(e,t,i,n,o){if(t){var r=new a.Group,s=this.visualMapModel.textStyleModel;r.add(new a.Text({style:{x:n?"right"===o?i[0]:0:i[0]/2,y:i[1]/2,textVerticalAlign:"middle",textAlign:n?o:"center",text:t,textFont:s.getFont(),textFill:s.getTextColor()}})),e.add(r)}},_getViewData:function(){var e=this.visualMapModel,t=n.map(e.getPieceList(),(function(e,t){return{piece:e,indexInModelPieceList:t}})),i=e.get("text"),o=e.get("orient"),a=e.get("inverse");return("horizontal"===o?a:!a)?t.reverse():i&&(i=i.slice().reverse()),{viewPieceList:t,endsText:i}},_createItemSymbol:function(e,t,i){e.add(r(this.getControllerVisual(t,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(t,"color")))},_onItemClick:function(e){var t=this.visualMapModel,i=t.option,o=n.clone(i.selected),a=t.getSelectedMapKey(e);"single"===i.selectedMode?(o[a]=!0,n.each(o,(function(e,t){o[t]=t===a}))):o[a]=!o[a],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}});e.exports=u},455:function(e,t,i){"use strict";var n=i(1),o=i(36).findIndex,a=i(126),r=i(20),s=!0,l=r("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){s=!1})),n({target:"Array",proto:!0,forced:s||!l},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findIndex")},470:function(e,t,i){"use strict";var n=i(1),o=i(59),a=i(538),r=i(539),s=i(2),l=1..toFixed,u=Math.floor,c=function(e,t,i){return 0===t?i:t%2==1?c(e,t-1,i*e):c(e*e,t/2,i)};n({target:"Number",proto:!0,forced:l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){l.call({})}))},{toFixed:function(e){var t,i,n,s,l=a(this),h=o(e),p=[0,0,0,0,0,0],f="",d="0",g=function(e,t){for(var i=-1,n=t;++i<6;)n+=e*p[i],p[i]=n%1e7,n=u(n/1e7)},m=function(e){for(var t=6,i=0;--t>=0;)i+=p[t],p[t]=u(i/e),i=i%e*1e7},v=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==p[e]){var i=String(p[e]);t=""===t?i:t+r.call("0",7-i.length)+i}return t};if(h<0||h>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(f="-",l=-l),l>1e-21)if(i=(t=function(e){for(var t=0,i=e;i>=4096;)t+=12,i/=4096;for(;i>=2;)t+=1,i/=2;return t}(l*c(2,69,1))-69)<0?l*c(2,-t,1):l/c(2,t,1),i*=4503599627370496,(t=52-t)>0){for(g(0,i),n=h;n>=7;)g(1e7,0),n-=7;for(g(c(10,n,1),0),n=t-1;n>=23;)m(1<<23),n-=23;m(1<<n),g(1,1),m(2),d=v()}else g(0,i),g(1<<-t,0),d=v()+r.call("0",h);return d=h>0?f+((s=d.length)<=h?"0."+r.call("0",h-s)+d:d.slice(0,s-h)+"."+d.slice(s-h)):f+d}})},508:function(e,t,i){var n=i(1),o=i(522);n({target:"Number",stat:!0,forced:Number.parseFloat!=o},{parseFloat:o})},522:function(e,t,i){var n=i(4),o=i(207).trim,a=i(208),r=n.parseFloat,s=1/r(a+"-0")!=-1/0;e.exports=s?function(e){var t=o(String(e)),i=r(t);return 0===i&&"-"==t.charAt(0)?-0:i}:r},538:function(e,t,i){var n=i(28);e.exports=function(e){if("number"!=typeof e&&"Number"!=n(e))throw TypeError("Incorrect invocation");return+e}},539:function(e,t,i){"use strict";var n=i(59),o=i(22);e.exports="".repeat||function(e){var t=String(o(this)),i="",a=n(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(i+=t);return i}},594:function(e,t,i){var n=i(356),o=i(611).createSymbol,a=i(382),r=i(423).parsePercent,s=i(749).getDefaultLabel;function l(e,t,i){a.Group.call(this),this.updateData(e,t,i)}var u=l.prototype,c=l.getSymbolSize=function(e,t){var i=e.getItemVisual(t,"symbolSize");return i instanceof Array?i.slice():[+i,+i]};function h(e){return[e[0]/2,e[1]/2]}function p(e,t){this.parent.drift(e,t)}u._createSymbol=function(e,t,i,n,a){this.removeAll();var r=t.getItemVisual(i,"color"),s=o(e,-1,-1,2,2,r,a);s.attr({z2:100,culling:!0,scale:h(n)}),s.drift=p,this._symbolType=e,this.add(s)},u.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},u.getSymbolPath=function(){return this.childAt(0)},u.getScale=function(){return this.childAt(0).scale},u.highlight=function(){this.childAt(0).trigger("emphasis")},u.downplay=function(){this.childAt(0).trigger("normal")},u.setZ=function(e,t){var i=this.childAt(0);i.zlevel=e,i.z=t},u.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":t.cursor},u.updateData=function(e,t,i){this.silent=!1;var n=e.getItemVisual(t,"symbol")||"circle",o=e.hostModel,r=c(e,t),s=n!==this._symbolType;if(s){var l=e.getItemVisual(t,"symbolKeepAspect");this._createSymbol(n,e,t,r,l)}else{(u=this.childAt(0)).silent=!1,a.updateProps(u,{scale:h(r)},o,t)}if(this._updateCommon(e,t,r,i),s){var u=this.childAt(0),p=i&&i.fadeIn,f={scale:u.scale.slice()};p&&(f.style={opacity:u.style.opacity}),u.scale=[0,0],p&&(u.style.opacity=0),a.initProps(u,f,o,t)}this._seriesModel=o};var f=["itemStyle"],d=["emphasis","itemStyle"],g=["label"],m=["emphasis","label"];function v(e,t){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===t){var i=this.__symbolOriginalScale,n=i[1]/i[0],o={scale:[Math.max(1.1*i[0],i[0]+3),Math.max(1.1*i[1],i[1]+3*n)]};this.animateTo(o,400,"elasticOut")}else"normal"===t&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}u._updateCommon=function(e,t,i,o){var l=this.childAt(0),u=e.hostModel,c=e.getItemVisual(t,"color");"image"!==l.type?l.useStyle({strokeNoScale:!0}):l.setStyle({opacity:1,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var p=o&&o.itemStyle,y=o&&o.hoverItemStyle,_=o&&o.symbolOffset,S=o&&o.labelModel,b=o&&o.hoverLabelModel,x=o&&o.hoverAnimation,M=o&&o.cursorStyle;if(!o||e.hasItemOption){var w=o&&o.itemModel?o.itemModel:e.getItemModel(t);p=w.getModel(f).getItemStyle(["color"]),y=w.getModel(d).getItemStyle(),_=w.getShallow("symbolOffset"),S=w.getModel(g),b=w.getModel(m),x=w.getShallow("hoverAnimation"),M=w.getShallow("cursor")}else y=n.extend({},y);var T=l.style,I=e.getItemVisual(t,"symbolRotate");l.attr("rotation",(I||0)*Math.PI/180||0),_&&l.attr("position",[r(_[0],i[0]),r(_[1],i[1])]),M&&l.attr("cursor",M),l.setColor(c,o&&o.symbolInnerColor),l.setStyle(p);var C=e.getItemVisual(t,"opacity");null!=C&&(T.opacity=C);var L=e.getItemVisual(t,"liftZ"),D=l.__z2Origin;null!=L?null==D&&(l.__z2Origin=l.z2,l.z2+=L):null!=D&&(l.z2=D,l.__z2Origin=null);var A=o&&o.useNameLabel;a.setLabelStyle(T,y,S,b,{labelFetcher:u,labelDataIndex:t,defaultText:function(t,i){return A?e.getName(t):s(e,t)},isRectText:!0,autoColor:c}),l.__symbolOriginalScale=h(i),l.hoverStyle=y,l.highDownOnUpdate=x&&u.isAnimationEnabled()?v:null,a.setHoverStyle(l)},u.fadeOut=function(e,t){var i=this.childAt(0);this.silent=i.silent=!0,(!t||!t.keepLabel)&&(i.style.text=null),a.updateProps(i,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,e)},n.inherits(l,a.Group);var y=l;e.exports=y},612:function(e,t,i){var n=i(356).isFunction;e.exports=function(e,t,i){return{seriesType:e,performRawSeries:!0,reset:function(e,o,a){var r=e.getData(),s=e.get("symbol"),l=e.get("symbolSize"),u=e.get("symbolKeepAspect"),c=e.get("symbolRotate"),h=n(s),p=n(l),f=n(c),d=h||p||f,g=!h&&s?s:t,m=p?null:l;if(r.setVisual({legendSymbol:i||g,symbol:g,symbolSize:m,symbolKeepAspect:u,symbolRotate:c}),!o.isSeriesFiltered(e))return{dataEach:r.hasItemOption||d?function(t,i){if(d){var n=e.getRawValue(i),o=e.getDataParams(i);h&&t.setItemVisual(i,"symbol",s(n,o)),p&&t.setItemVisual(i,"symbolSize",l(n,o)),f&&t.setItemVisual(i,"symbolRotate",c(n,o))}if(t.hasItemOption){var a=t.getItemModel(i),r=a.getShallow("symbol",!0),u=a.getShallow("symbolSize",!0),g=a.getShallow("symbolRotate",!0),m=a.getShallow("symbolKeepAspect",!0);null!=r&&t.setItemVisual(i,"symbol",r),null!=u&&t.setItemVisual(i,"symbolSize",u),null!=g&&t.setItemVisual(i,"symbolRotate",g),null!=m&&t.setItemVisual(i,"symbolKeepAspect",m)}}:null}}}}},621:function(e,t,i){var n=i(356).map,o=i(716),a=i(601).isDimensionStacked;e.exports=function(e){return{seriesType:e,plan:o(),reset:function(e){var t=e.getData(),i=e.coordinateSystem,o=e.pipelineContext.large;if(i){var r=n(i.dimensions,(function(e){return t.mapDimension(e)})).slice(0,2),s=r.length,l=t.getCalculationInfo("stackResultDimension");return a(t,r[0])&&(r[0]=l),a(t,r[1])&&(r[1]=l),s&&{progress:function(e,t){for(var n=e.end-e.start,a=o&&new Float32Array(n*s),l=e.start,u=0,c=[],h=[];l<e.end;l++){var p;if(1===s){var f=t.get(r[0],l);p=!isNaN(f)&&i.dataToPoint(f,null,h)}else{f=c[0]=t.get(r[0],l);var d=c[1]=t.get(r[1],l);p=!isNaN(f)&&!isNaN(d)&&i.dataToPoint(c,null,h)}o?(a[u++]=p?p[0]:NaN,a[u++]=p?p[1]:NaN):t.setItemLayout(l,p&&p.slice()||[NaN,NaN])}o&&t.setLayout("symbolPoints",a)}}}}}}},631:function(e,t,i){var n=i(382),o=i(594),a=i(356).isObject;function r(e){this.group=new n.Group,this._symbolCtor=e||o}var s=r.prototype;function l(e,t,i,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(i))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&"none"!==e.getItemVisual(i,"symbol")}function u(e){return null==e||a(e)||(e={isIgnore:e}),e||{}}function c(e){var t=e.hostModel;return{itemStyle:t.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:t.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label"),cursorStyle:t.get("cursor")}}s.updateData=function(e,t){t=u(t);var i=this.group,o=e.hostModel,a=this._data,r=this._symbolCtor,s=c(e);a||i.removeAll(),e.diff(a).add((function(n){var o=e.getItemLayout(n);if(l(e,o,n,t)){var a=new r(e,n,s);a.attr("position",o),e.setItemGraphicEl(n,a),i.add(a)}})).update((function(u,c){var h=a.getItemGraphicEl(c),p=e.getItemLayout(u);l(e,p,u,t)?(h?(h.updateData(e,u,s),n.updateProps(h,{position:p},o)):(h=new r(e,u)).attr("position",p),i.add(h),e.setItemGraphicEl(u,h)):i.remove(h)})).remove((function(e){var t=a.getItemGraphicEl(e);t&&t.fadeOut((function(){i.remove(t)}))})).execute(),this._data=e},s.isPersistent=function(){return!0},s.updateLayout=function(){var e=this._data;e&&e.eachItemGraphicEl((function(t,i){var n=e.getItemLayout(i);t.attr("position",n)}))},s.incrementalPrepareUpdate=function(e){this._seriesScope=c(e),this._data=null,this.group.removeAll()},s.incrementalUpdate=function(e,t,i){function n(e){e.isGroup||(e.incremental=e.useHoverLayer=!0)}i=u(i);for(var o=e.start;o<e.end;o++){var a=t.getItemLayout(o);if(l(t,a,o,i)){var r=new this._symbolCtor(t,o,this._seriesScope);r.traverse(n),r.attr("position",a),this.group.add(r),t.setItemGraphicEl(o,r)}}},s.remove=function(e){var t=this.group,i=this._data;i&&e?i.eachItemGraphicEl((function(e){e.fadeOut((function(){t.remove(e)}))})):t.removeAll()};var h=r;e.exports=h},798:function(e,t,i){var n=i(356),o=i(765),a=i(423).linearMap,r=n.each,s=n.isObject,l=function(e){var t=e.mappingMethod,i=e.type,o=this.option=n.clone(e);this.type=i,this.mappingMethod=t,this._normalizeData=_[t];var a=u[i];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._doMap=a._doMap[t],"piecewise"===t?(c(o),function(e){var t=e.pieceList;e.hasSpecialVisual=!1,n.each(t,(function(t,i){t.originIndex=i,null!=t.visual&&(e.hasSpecialVisual=!0)}))}(o)):"category"===t?o.categories?function(e){var t=e.categories,i=e.visual,o=e.categoryMap={};if(r(t,(function(e,t){o[e]=t})),!n.isArray(i)){var a=[];n.isObject(i)?r(i,(function(e,t){var i=o[t];a[null!=i?i:-1]=e})):a[-1]=i,i=y(e,a)}for(var s=t.length-1;s>=0;s--)null==i[s]&&(delete o[t[s]],t.pop())}(o):c(o,!0):(n.assert("linear"!==t||o.dataExtent),c(o))};l.prototype={constructor:l,mapValueToVisual:function(e){var t=this._normalizeData(e);return this._doMap(t,e)},getNormalizer:function(){return n.bind(this._normalizeData,this)}};var u=l.visualHandlers={color:{applyVisual:f("color"),getColorMapper:function(){var e=this.option;return n.bind("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),d.call(this,e)}:function(t,i,n){var a=!!n;return!i&&(t=this._normalizeData(t)),n=o.fastLerp(t,e.parsedVisual,n),a?n:o.stringify(n,"rgba")},this)},_doMap:{linear:function(e){return o.stringify(o.fastLerp(e,this.option.parsedVisual),"rgba")},category:d,piecewise:function(e,t){var i=v.call(this,t);return null==i&&(i=o.stringify(o.fastLerp(e,this.option.parsedVisual),"rgba")),i},fixed:g}},colorHue:h((function(e,t){return o.modifyHSL(e,t)})),colorSaturation:h((function(e,t){return o.modifyHSL(e,null,t)})),colorLightness:h((function(e,t){return o.modifyHSL(e,null,null,t)})),colorAlpha:h((function(e,t){return o.modifyAlpha(e,t)})),opacity:{applyVisual:f("opacity"),_doMap:m([0,1])},liftZ:{applyVisual:f("liftZ"),_doMap:{linear:g,category:g,piecewise:g,fixed:g}},symbol:{applyVisual:function(e,t,i){var o=this.mapValueToVisual(e);if(n.isString(o))i("symbol",o);else if(s(o))for(var a in o)o.hasOwnProperty(a)&&i(a,o[a])},_doMap:{linear:p,category:d,piecewise:function(e,t){var i=v.call(this,t);return null==i&&(i=p.call(this,e)),i},fixed:g}},symbolSize:{applyVisual:f("symbolSize"),_doMap:m([0,1])}};function c(e,t){var i=e.visual,o=[];n.isObject(i)?r(i,(function(e){o.push(e)})):null!=i&&o.push(i);t||1!==o.length||{color:1,symbol:1}.hasOwnProperty(e.type)||(o[1]=o[0]),y(e,o)}function h(e){return{applyVisual:function(t,i,n){t=this.mapValueToVisual(t),n("color",e(i("color"),t))},_doMap:m([0,1])}}function p(e){var t=this.option.visual;return t[Math.round(a(e,[0,1],[0,t.length-1],!0))]||{}}function f(e){return function(t,i,n){n(e,this.mapValueToVisual(t))}}function d(e){var t=this.option.visual;return t[this.option.loop&&-1!==e?e%t.length:e]}function g(){return this.option.visual[0]}function m(e){return{linear:function(t){return a(t,e,this.option.visual,!0)},category:d,piecewise:function(t,i){var n=v.call(this,i);return null==n&&(n=a(t,e,this.option.visual,!0)),n},fixed:g}}function v(e){var t=this.option,i=t.pieceList;if(t.hasSpecialVisual){var n=i[l.findPieceIndex(e,i)];if(n&&n.visual)return n.visual[this.type]}}function y(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=n.map(t,(function(e){return o.parse(e)}))),t}var _={linear:function(e){return a(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,i=l.findPieceIndex(e,t,!0);if(null!=i)return a(i,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?-1:t},fixed:n.noop};function S(e,t,i){return e?t<=i:t<i}l.listVisualTypes=function(){var e=[];return n.each(u,(function(t,i){e.push(i)})),e},l.addVisualHandler=function(e,t){u[e]=t},l.isValidType=function(e){return u.hasOwnProperty(e)},l.eachVisual=function(e,t,i){n.isObject(e)?n.each(e,t,i):t.call(i,e)},l.mapVisual=function(e,t,i){var o,a=n.isArray(e)?[]:n.isObject(e)?{}:(o=!0,null);return l.eachVisual(e,(function(e,n){var r=t.call(i,e,n);o?a=r:a[n]=r})),a},l.retrieveVisuals=function(e){var t,i={};return e&&r(u,(function(n,o){e.hasOwnProperty(o)&&(i[o]=e[o],t=!0)})),t?i:null},l.prepareVisualTypes=function(e){if(s(e)){var t=[];r(e,(function(e,i){t.push(i)})),e=t}else{if(!n.isArray(e))return[];e=e.slice()}return e.sort((function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1})),e},l.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},l.findPieceIndex=function(e,t,i){for(var n,o=1/0,a=0,r=t.length;a<r;a++){var s=t[a].value;if(null!=s){if(s===e||"string"==typeof s&&s===e+"")return a;i&&h(s,a)}}for(a=0,r=t.length;a<r;a++){var l=t[a],u=l.interval,c=l.close;if(u){if(u[0]===-1/0){if(S(c[1],e,u[1]))return a}else if(u[1]===1/0){if(S(c[0],u[0],e))return a}else if(S(c[0],u[0],e)&&S(c[1],e,u[1]))return a;i&&h(u[0],a),i&&h(u[1],a)}}if(i)return e===1/0?t.length-1:e===-1/0?0:n;function h(t,i){var a=Math.abs(t-e);a<o&&(o=a,n=i)}};var b=l;e.exports=b},823:function(e,t,i){var n=i(841),o=i(733),a=i(356),r=a.extend,s=a.isArray;e.exports=function(e,t,i){t=s(t)&&{coordDimensions:t}||r({},t);var a=e.getSource(),l=n(a,t),u=new o(l,e);return u.initData(a,i),u}},873:function(e,t,i){i(435).__DEV__;var n=i(356),o=n.each,a=n.createHashMap,r=i(980),s=i(1224),l=i(1229),u=i(544),c={geoJSON:s,svg:l},h={load:function(e,t,i){var n,r=[],s=a(),l=a(),h=f(e);return o(h,(function(a){var u=c[a.type].load(e,a,i);o(u.regions,(function(e){var i=e.name;t&&t.hasOwnProperty(i)&&(e=e.cloneShallow(i=t[i])),r.push(e),s.set(i,e),l.set(i,e.center)}));var h=u.boundingRect;h&&(n?n.union(h):n=h.clone())})),{regions:r,regionsMap:s,nameCoordMap:l,boundingRect:n||new u(0,0,0,0)}},makeGraphic:p("makeGraphic"),removeGraphic:p("removeGraphic")};function p(e){return function(t,i){var n=f(t),a=[];return o(n,(function(n){var o=c[n.type][e];o&&a.push(o(t,n,i))})),a}}function f(e){return r.retrieveMap(e)||[]}e.exports=h},899:function(e,t){function i(e,t){var i=e[t]-e[1-t];return{span:Math.abs(i),sign:i>0?-1:i<0?1:t?-1:1}}function n(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}e.exports=function(e,t,o,a,r,s){e=e||0;var l=o[1]-o[0];if(null!=r&&(r=n(r,[0,l])),null!=s&&(s=Math.max(s,null!=r?r:0)),"all"===a){var u=Math.abs(t[1]-t[0]);u=n(u,[0,l]),r=s=n(u,[r,s]),a=0}t[0]=n(t[0],o),t[1]=n(t[1],o);var c=i(t,a);t[a]+=e;var h=r||0,p=o.slice();c.sign<0?p[0]+=h:p[1]-=h,t[a]=n(t[a],p);var f=i(t,a);return null!=r&&(f.sign!==c.sign||f.span<r)&&(t[1-a]=t[a]+c.sign*r),f=i(t,a),null!=s&&f.span>s&&(t[1-a]=t[a]+f.sign*s),t}},935:function(e,t,i){var n=i(356),o={updateSelectedMap:function(e){this._targetList=n.isArray(e)?e.slice():[],this._selectTargetMap=n.reduce(e||[],(function(e,t){return e.set(t.name,t),e}),n.createHashMap())},select:function(e,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(e);"single"===this.get("selectedMode")&&this._selectTargetMap.each((function(e){e.selected=!1})),i&&(i.selected=!0)},unSelect:function(e,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(e);i&&(i.selected=!1)},toggleSelected:function(e,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(e);if(null!=i)return this[i.selected?"unSelect":"select"](e,t),i.selected},isSelected:function(e,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(e);return i&&i.selected}};e.exports=o},946:function(e,t,i){var n=i(356),o=i(821),a=i(746),r=i(1115);function s(e){this.pointerChecker,this._zr=e,this._opt={};var t=n.bind,i=t(l,this),a=t(u,this),r=t(c,this),s=t(h,this),f=t(p,this);o.call(this),this.setPointerChecker=function(e){this.pointerChecker=e},this.enable=function(t,o){this.disable(),this._opt=n.defaults(n.clone(o)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",i),e.on("mousemove",a),e.on("mouseup",r)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",s),e.on("pinch",f))},this.disable=function(){e.off("mousedown",i),e.off("mousemove",a),e.off("mouseup",r),e.off("mousewheel",s),e.off("pinch",f)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function l(e){if(!(a.isMiddleOrRightButtonOnMouseUpDown(e)||e.target&&e.target.draggable)){var t=e.offsetX,i=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,i)&&(this._x=t,this._y=i,this._dragging=!0)}}function u(e){if(this._dragging&&g("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!r.isTaken(this._zr,"globalPan")){var t=e.offsetX,i=e.offsetY,n=this._x,o=this._y,s=t-n,l=i-o;this._x=t,this._y=i,this._opt.preventDefaultMouseMove&&a.stop(e.event),d(this,"pan","moveOnMouseMove",e,{dx:s,dy:l,oldX:n,oldY:o,newX:t,newY:i})}}function c(e){a.isMiddleOrRightButtonOnMouseUpDown(e)||(this._dragging=!1)}function h(e){var t=g("zoomOnMouseWheel",e,this._opt),i=g("moveOnMouseWheel",e,this._opt),n=e.wheelDelta,o=Math.abs(n),a=e.offsetX,r=e.offsetY;if(0!==n&&(t||i)){if(t){var s=o>3?1.4:o>1?1.2:1.1;f(this,"zoom","zoomOnMouseWheel",e,{scale:n>0?s:1/s,originX:a,originY:r})}if(i){var l=Math.abs(n);f(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(n>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:a,originY:r})}}}function p(e){r.isTaken(this._zr,"globalPan")||f(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY})}function f(e,t,i,n,o){e.pointerChecker&&e.pointerChecker(n,o.originX,o.originY)&&(a.stop(n.event),d(e,t,i,n,o))}function d(e,t,i,o,a){a.isAvailableBehavior=n.bind(g,null,i,o),e.trigger(t,a)}function g(e,t,i){var o=i[e];return!e||o&&(!n.isString(o)||t.event[o+"Key"])}n.mixin(s,o);var m=s;e.exports=m},947:function(e,t,i){i(435).__DEV__;var n=i(369),o=i(356),a=i(1231),r=i(523),s=i(423),l=i(873),u=i(980);function c(e,t){var i=e.get("boundingCoords");if(null!=i){var n=i[0],o=i[1];isNaN(n[0])||isNaN(n[1])||isNaN(o[0])||isNaN(o[1])||this.setBoundingRect(n[0],n[1],o[0]-n[0],o[1]-n[1])}var a,l=this.getBoundingRect(),u=e.get("layoutCenter"),c=e.get("layoutSize"),h=t.getWidth(),p=t.getHeight(),f=l.width/l.height*this.aspectScale,d=!1;if(u&&c&&(u=[s.parsePercent(u[0],h),s.parsePercent(u[1],p)],c=s.parsePercent(c,Math.min(h,p)),isNaN(u[0])||isNaN(u[1])||isNaN(c)||(d=!0)),d){var g={};f>1?(g.width=c,g.height=c/f):(g.height=c,g.width=c*f),g.y=u[1]-g.height/2,g.x=u[0]-g.width/2}else(a=e.getBoxLayoutParams()).aspect=f,g=r.getLayoutRect(a,{width:h,height:p});this.setViewRect(g.x,g.y,g.width,g.height),this.setCenter(e.get("center")),this.setZoom(e.get("zoom"))}function h(e,t){o.each(t.get("geoCoord"),(function(t,i){e.addGeoCoord(i,t)}))}var p={dimensions:a.prototype.dimensions,create:function(e,t){var i=[];e.eachComponent("geo",(function(e,n){var o=e.get("map"),r=e.get("aspectScale"),s=!0,l=u.retrieveMap(o);l&&l[0]&&"svg"===l[0].type?(null==r&&(r=1),s=!1):null==r&&(r=.75);var p=new a(o+n,o,e.get("nameMap"),s);p.aspectScale=r,p.zoomLimit=e.get("scaleLimit"),i.push(p),h(p,e),e.coordinateSystem=p,p.model=e,p.resize=c,p.resize(e,t)})),e.eachSeries((function(e){if("geo"===e.get("coordinateSystem")){var t=e.get("geoIndex")||0;e.coordinateSystem=i[t]}}));var n={};return e.eachSeriesByType("map",(function(e){if(!e.getHostGeoModel()){var t=e.getMapType();n[t]=n[t]||[],n[t].push(e)}})),o.each(n,(function(e,n){var r=o.map(e,(function(e){return e.get("nameMap")})),s=new a(n,n,o.mergeAll(r));s.zoomLimit=o.retrieve.apply(null,o.map(e,(function(e){return e.get("scaleLimit")}))),i.push(s),s.resize=c,s.aspectScale=e[0].get("aspectScale"),s.resize(e[0],t),o.each(e,(function(e){e.coordinateSystem=s,h(s,e)}))})),i},getFilledRegions:function(e,t,i){for(var n=(e||[]).slice(),a=o.createHashMap(),r=0;r<n.length;r++)a.set(n[r].name,n[r]);var s=l.load(t,i);return o.each(s.regions,(function(e){var t=e.name;!a.get(t)&&n.push({name:t})})),n}};n.registerCoordinateSystem("geo",p);var f=p;e.exports=f},949:function(e,t,i){var n=i(356),o=i(501),a=i(611),r=i(1237),s=i(382),l=i(423).round,u=["fromSymbol","toSymbol"];function c(e){return"_"+e+"Type"}function h(e,t,i){var o=t.getItemVisual(i,e);if(o&&"none"!==o){var r=t.getItemVisual(i,"color"),s=t.getItemVisual(i,e+"Size"),l=t.getItemVisual(i,e+"Rotate");n.isArray(s)||(s=[s,s]);var u=a.createSymbol(o,-s[0]/2,-s[1]/2,s[0],s[1],r);return u.__specifiedRotation=null==l||isNaN(l)?void 0:+l*Math.PI/180||0,u.name=e,u}}function p(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var i=t[2];i?(e.cpx1=i[0],e.cpy1=i[1]):(e.cpx1=NaN,e.cpy1=NaN)}function f(e,t,i){s.Group.call(this),this._createLine(e,t,i)}var d=f.prototype;d.beforeUpdate=function(){var e=this.childOfName("fromSymbol"),t=this.childOfName("toSymbol"),i=this.childOfName("label");if(e||t||!i.ignore){for(var n=1,a=this.parent;a;)a.scale&&(n/=a.scale[0]),a=a.parent;var r=this.childOfName("line");if(this.__dirty||r.__dirty){var s=r.shape.percent,l=r.pointAt(0),u=r.pointAt(s),c=o.sub([],u,l);if(o.normalize(c,c),e){if(e.attr("position",l),null==(p=e.__specifiedRotation)){var h=r.tangentAt(0);e.attr("rotation",Math.PI/2-Math.atan2(h[1],h[0]))}else e.attr("rotation",p);e.attr("scale",[n*s,n*s])}if(t){var p;if(t.attr("position",u),null==(p=t.__specifiedRotation)){h=r.tangentAt(1);t.attr("rotation",-Math.PI/2-Math.atan2(h[1],h[0]))}else t.attr("rotation",p);t.attr("scale",[n*s,n*s])}if(!i.ignore){var f,d,g,m;i.attr("position",u);var v=i.__labelDistance,y=v[0]*n,_=v[1]*n,S=s/2,b=[(h=r.tangentAt(S))[1],-h[0]],x=r.pointAt(S);b[1]>0&&(b[0]=-b[0],b[1]=-b[1]);var M,w=h[0]<0?-1:1;if("start"!==i.__position&&"end"!==i.__position){var T=-Math.atan2(h[1],h[0]);u[0]<l[0]&&(T=Math.PI+T),i.attr("rotation",T)}switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":M=-_,g="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":M=_,g="top";break;default:M=0,g="middle"}switch(i.__position){case"end":f=[c[0]*y+u[0],c[1]*_+u[1]],d=c[0]>.8?"left":c[0]<-.8?"right":"center",g=c[1]>.8?"top":c[1]<-.8?"bottom":"middle";break;case"start":f=[-c[0]*y+l[0],-c[1]*_+l[1]],d=c[0]>.8?"right":c[0]<-.8?"left":"center",g=c[1]>.8?"bottom":c[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":f=[y*w+l[0],l[1]+M],d=h[0]<0?"right":"left",m=[-y*w,-M];break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":f=[x[0],x[1]+M],d="center",m=[0,-M];break;case"insideEndTop":case"insideEnd":case"insideEndBottom":f=[-y*w+u[0],u[1]+M],d=h[0]>=0?"right":"left",m=[y*w,-M]}i.attr({style:{textVerticalAlign:i.__verticalAlign||g,textAlign:i.__textAlign||d},position:f,scale:[n,n],origin:m})}}}},d._createLine=function(e,t,i){var o=e.hostModel,a=function(e){var t=new r({name:"line",subPixelOptimize:!0});return p(t.shape,e),t}(e.getItemLayout(t));a.shape.percent=0,s.initProps(a,{shape:{percent:1}},o,t),this.add(a);var l=new s.Text({name:"label",lineLabelOriginalOpacity:1});this.add(l),n.each(u,(function(i){var n=h(i,e,t);this.add(n),this[c(i)]=e.getItemVisual(t,i)}),this),this._updateCommonStl(e,t,i)},d.updateData=function(e,t,i){var o=e.hostModel,a=this.childOfName("line"),r=e.getItemLayout(t),l={shape:{}};p(l.shape,r),s.updateProps(a,l,o,t),n.each(u,(function(i){var n=e.getItemVisual(t,i),o=c(i);if(this[o]!==n){this.remove(this.childOfName(i));var a=h(i,e,t);this.add(a)}this[o]=n}),this),this._updateCommonStl(e,t,i)},d._updateCommonStl=function(e,t,i){var o=e.hostModel,a=this.childOfName("line"),r=i&&i.lineStyle,c=i&&i.hoverLineStyle,h=i&&i.labelModel,p=i&&i.hoverLabelModel;if(!i||e.hasItemOption){var f=e.getItemModel(t);r=f.getModel("lineStyle").getLineStyle(),c=f.getModel("emphasis.lineStyle").getLineStyle(),h=f.getModel("label"),p=f.getModel("emphasis.label")}var d=e.getItemVisual(t,"color"),g=n.retrieve3(e.getItemVisual(t,"opacity"),r.opacity,1);a.useStyle(n.defaults({strokeNoScale:!0,fill:"none",stroke:d,opacity:g},r)),a.hoverStyle=c,n.each(u,(function(e){var t=this.childOfName(e);t&&(t.setColor(d),t.setStyle({opacity:g}))}),this);var m,v,y=h.getShallow("show"),_=p.getShallow("show"),S=this.childOfName("label");if((y||_)&&(m=d||"#000",null==(v=o.getFormattedLabel(t,"normal",e.dataType)))){var b=o.getRawValue(t);v=null==b?e.getName(t):isFinite(b)?l(b):b}var x=y?v:null,M=_?n.retrieve2(o.getFormattedLabel(t,"emphasis",e.dataType),v):null,w=S.style;if(null!=x||null!=M){s.setTextStyle(S.style,h,{text:x},{autoColor:m}),S.__textAlign=w.textAlign,S.__verticalAlign=w.textVerticalAlign,S.__position=h.get("position")||"middle";var T=h.get("distance");n.isArray(T)||(T=[T,T]),S.__labelDistance=T}S.hoverStyle=null!=M?{text:M,textFill:p.getTextColor(!0),fontStyle:p.getShallow("fontStyle"),fontWeight:p.getShallow("fontWeight"),fontSize:p.getShallow("fontSize"),fontFamily:p.getShallow("fontFamily")}:{text:null},S.ignore=!y&&!_,s.setHoverStyle(this)},d.highlight=function(){this.trigger("emphasis")},d.downplay=function(){this.trigger("normal")},d.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},d.setLinePoints=function(e){var t=this.childOfName("line");p(t.shape,e),t.dirty()},n.inherits(f,s.Group);var g=f;e.exports=g},950:function(e,t,i){var n=i(356),o=i(798),a=n.each;function r(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}t.createVisualMappings=function(e,t,i){var r={};return a(t,(function(t){var s,l=r[t]=((s=function(){}).prototype.__hidden=s.prototype,new s);a(e[t],(function(e,a){if(o.isValidType(a)){var r={type:a,visual:e};i&&i(r,t),l[a]=new o(r),"opacity"===a&&((r=n.clone(r)).type="colorAlpha",l.__hidden.__alphaForOpacity=new o(r))}}))})),r},t.replaceVisualOption=function(e,t,i){var o;n.each(i,(function(e){t.hasOwnProperty(e)&&r(t[e])&&(o=!0)})),o&&n.each(i,(function(i){t.hasOwnProperty(i)&&r(t[i])?e[i]=n.clone(t[i]):delete e[i]}))},t.applyVisual=function(e,t,i,a,r,s){var l,u={};function c(e){return i.getItemVisual(l,e)}function h(e,t){i.setItemVisual(l,e,t)}function p(e,n){l=null==s?e:n;var o=i.getRawDataItem(l);if(!o||!1!==o.visualMap)for(var p=a.call(r,e),f=t[p],d=u[p],g=0,m=d.length;g<m;g++){var v=d[g];f[v]&&f[v].applyVisual(e,c,h)}}n.each(e,(function(e){var i=o.prepareVisualTypes(t[e]);u[e]=i})),null==s?i.each(p):i.each([s],p)},t.incrementalApplyVisual=function(e,t,i,a){var r={};return n.each(e,(function(e){var i=o.prepareVisualTypes(t[e]);r[e]=i})),{progress:function(e,n){function o(e){return n.getItemVisual(l,e)}function s(e,t){n.setItemVisual(l,e,t)}var l;for(null!=a&&(a=n.getDimension(a));null!=(l=e.next());){var u=n.getRawDataItem(l);if(!u||!1!==u.visualMap)for(var c=null!=a?n.get(a,l,!0):l,h=i(c),p=t[h],f=r[h],d=0,g=f.length;d<g;d++){var m=f[d];p[m]&&p[m].applyVisual(c,o,s)}}}}}},989:function(e,t,i){var n=i(369);i(1220),i(1221);var o=i(612),a=i(621);i(730),n.registerVisual(o("scatter","circle")),n.registerLayout(a("scatter"))},990:function(e,t,i){var n=i(369);i(1223),i(1230),i(1061),i(947);var o=i(1232),a=i(1233),r=i(1234),s=i(1235),l=i(1051);n.registerLayout(o),n.registerVisual(a),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,r),n.registerPreprocessor(s),l("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},991:function(e,t){var i={axisPointer:1,tooltip:1,brush:1};t.onIrrelevantElement=function(e,t,n){var o=t.getComponentByElement(e.topTarget),a=o&&o.coordinateSystem;return o&&o!==n&&!i[o.mainType]&&a&&a.model!==n}},992:function(e,t,i){var n=i(369);i(1240),i(1241);var o=i(612),a=i(621);n.registerVisual(o("effectScatter","circle")),n.registerLayout(a("effectScatter"))},993:function(e,t,i){var n=i(369);i(1243),i(1244);var o=i(1067),a=i(1247);n.registerLayout(o),n.registerVisual(a)},994:function(e,t,i){var n=i(369),o=i(356);function a(e,t){t.update="updateView",n.registerAction(t,(function(t,i){var n={};return i.eachComponent({mainType:"geo",query:t},(function(i){i[e](t.name);var a=i.coordinateSystem;o.each(a.regions,(function(e){n[e.name]=i.isSelected(e.name)||!1}))})),{selected:n,name:t.name}}))}i(1249),i(947),i(1250),i(1061),a("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),a("select",{type:"geoSelect",event:"geoselected"}),a("unSelect",{type:"geoUnSelect",event:"geounselected"})},997:function(e,t,i){i(1117),i(1118)}}]);